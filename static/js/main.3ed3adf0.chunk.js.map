{"version":3,"sources":["assets/GoldMarker.png","assets/Logo-kadaster.png","assets/marker-shadow.png","network/ProcessorMethods.js","routes/pages/StartScreen.js","model/Observable.js","model/Resultaat.js","routes/pages/ResultScreen.js","model/ClusterObject.js","network/Communicators/CommunicatorSPARQL.js","network/Communicators/CommunicatorELASTICSEARCH.js","network/Communicators/ClickedCommunicator.js","network/Communicator.js","routes/pages/ObjectScreen.js","routes/Routes.js","components/NavBar.js","components/Loader.js","model/ResultatenHouder.js","model/ClickedResultaat.js","components/Icons.js","components/ContextMenu.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","worker","latestString","StartScreen","className","href","target","rel","React","Component","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","Resultaat","url","naam","type","geoJson","color","objectClass","_url","_naam","_type","_geoJson","_color","_objectClass","_onHoverDef","undefined","_onHoverOffDef","geojson","updateSubscribers","properties","geometry","func","ResultScreen","elements","props","res","getClickedCluster","getValues","getRightClickedRes","length","getResults","pElementHoofd","pElementSub","getNaam","getType","getColor","getHexFromColor","style","String","fromCharCode","key","getUrl","onClick","onClickItem","onMouseEnter","_onHover","onMouseLeave","_onHoverOff","ClusterObject","geoJSON","values","_values","getAsFeature","classes","getIndexOfClasses","indexOf","sortByObjectClass","list","sort","a","b","getObjectClass","firstLetterCapital","text","toLowerCase","split","s","startsWith","charAt","toUpperCase","substring","join","stripUrlToType","replace","seperateUpperCase","string","forEach","index","arr","slice","sortByGeoMetryAndName","searchString","naama","value","naamb","includes","aGeo","wktJson","bGeo","clusterObjects","setMethod","window","Worker","postMessage","onmessage","data","results","resultaat","__objectClass","clusters","concat","bringExactNameToFront","Map","i","has","get","set","splice","clusterMap","mapCounter","eerste","shift","cluster","j","turf","getGeoJson","features","first","geo","x","processSearchScreenResults","returnObject","bindings","valueMap","fO","brugnaam","tunnelnaam","sluisnaam","knooppuntnaam","offnaam","naamFries","naamNl","indexes","wellKnown","resultaatObj","processGetAllAttributes","clickedRes","naamOfficieel","burgNaam","tunnelNaam","knoopPuntNaam","sluisNaam","nodes","types","overigeAttributen","prd","obj","formattedKey","unshift","feature","getRes","area","Math","round","toString","loadInAttributes","getMatch","setResFromOutside","isExactMatch","match","queryTriply","query","exactMatch","status","makeSearchScreenResults","JSON","parse","result","mergeResults","getAllAttribtes","endpointurl","sub","queryBetterForType","exact","regex","resexact","resregex","fetch","method","headers","body","getFromCoordinates","lat","long","top","left","bottom","right","stop","sbottom","sright","sleft","queryForCoordinatesNonStreets","nonstreets","queryForCoordinatesStreets","streets","PreProcessor","righ","queryESDLK","console","log","hits","_id","labsURL","pdokURL","latestMethod","CommunicatorSPARQL","CommunicatorELASTICSEARCH","ClickedCommunicator","ObjectScreen","getNamenGegevens","Communicator","clickedResult","then","setState","state","tableNamen","tableRest","naamOfficeel","getTunnelNaam","getKnooppuntNaam","getBrugNaam","getSluisNaam","getTypeString","getNaamFries","getNaamOfficieel","getNaamNl","naam2","attributes","getAttributes","Routes","router2","path","render","component","EmptyBar","class_","loading","BackButton","onBack","float","aantalZoekResultaten","NavBar","Loader","width","height","ResultatenHouder","_results","_rightClickedResults","_clickedResult","_clickedCluster","clickedCluster","unsubscribe","subscribe","clicked","isShownClickedResults","ClickedResultaat","overige","_res","_naamOfficieel","_naamNL","_naamFries","_brugNaam","_tunnelNaam","_sluisNaam","_knoopPuntNaam","_types","_overige","naamnl","naamfries","Icons","L","Icon","Default","iconUrl","MarkerGold","iconRetinaUrl","imagePath","shadowUrl","MarkerShadow","DefaultIcon","ContextMenu","updateWindowDimensions","widthPage","innerWidth","heightPage","innerHeight","resOnClick","resetCoordinates","mousedOver","updateWindowDimensionsDebounce","_","debounce","addEventListener","removeEventListener","prevProps","prevState","snapshot","yMenu","div","clientHeight","xMenu","clientWidth","myStyle","coordinates","y","position","display","objectsOverLayedOnMap","head","subColor","ref","onContextMenu","e","preventDefault","App","mapInit","minZoom","center","zoom","maxBounds","tileLayer","attribution","addTo","on","handleRightMouseClick","doubleClickZoom","disable","geoJsonLayer","onEachFeature","handleGeoJsonLayerDrawing","pointToLayer","addMarker","getStyle","markerGroup","featureGroup","clickedOnLayeredMap","latLong","latlng","closePopup","popup","matchPath","location","pathname","strict","clearAll","history","goBack","isFetching","searchQuery","bounds","getBounds","lng","getNorth","getWest","getSouth","getEast","updateIng","setDoubleResults","marker","bindPopup","autoPan","closeButton","onHover","openPopup","setIcon","bind","onHoverOff","_setOnHover","_setOnHoverOff","getAllGeoJsonObjectContainingPoint","getClickedResult","getValuesAsFeatures","getClickedAllObjectsAsFeature","getSearchedAllObjectsAsFeature","col","inside","layer","getCenterGeoJson","contains","content","reverse","setLatLng","setContent","openOn","throttle","getContent","options","originalEvent","pageX","pageY","resetClickedOnLayeredMap","setClickedCluster","setClickedResult","getZoom","setView","centroid","geoJsonFeature","lon","isInside","onSearchChange","clearClickedResult","clearDoubleResults","clearClickedCluster","debounceDoSearch","doSearch","match2","go","trim","currentSelected","setResults","handleDeleteClick","handleOnBackButtonClick","updateMapDebounce","updateMap","dropDownSelector","v","isRightClick","clearLayers","addData","geoJsonResults","onFocus","getZoekResultatenAantal","gearIcon","icon","description","Dropdown","upward","Menu","Header","Divider","option","Item","active","name","link","to","src","KadasterImg","alt","Search","input","fluid","noResultsMessage","open","id","withRouter","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3ed3adf0.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Logo-kadaster.5d975e1b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","/**\r\n * Deze file bevat alle methodes die door meerdere communicators gebruikt worden. bijv first letter capital\r\n *\r\n * Ook bevindt zich in deze file alle \"leterlijke strings\" dus bijv \"Gemeente\" die ik niet in de front end wou zetten.\r\n *\r\n * Hierdoor blijft de front end hopelijk stabiel terwijl je deze file alleen hoeft te veranderen wil je de functionialtier veranderen.\r\n *\r\n * Hier zitten ook een aantal methodes in die door de front end worden aangeroepen.\r\n */\r\n\r\nimport * as wellKnown from \"wellknown\";\r\nimport Resultaat from \"../model/Resultaat\";\r\nimport * as turf from \"@turf/turf\";\r\nimport ClusterObject from \"../model/ClusterObject\";\r\n\r\n/**\r\n * Een file die alle classen van de brt bevat. Object klassen staan achter aan.\r\n * @type {*[]}\r\n */\r\nlet classes = [\"Grasland\", \"BosGemengdBos\", \"Akkerland\", \"BosNaaldbos\", \"Dodenakker\", \"BosLoofbos\", \"Spoorbaanlichaam\", \"Heide\", \"BebouwdGebied\", \"Populieren\", \"Boomgaard\", \"Boomkwekerij\", \"Zand\", \"Duin\", \"Fruitkwekerij\", \"BasaltblokkenSteenglooiing\", \"BosGriend\", \"Braakliggend\", \"Aanlegsteiger_terrein\", \"DodenakkerMetBos\", \"BronWel\", \"GreppelDrogeSloot\", \"Waterloop\", \"MeerPlas\", \"Droogvallend\", \"Droogvallend_LAT\", \"Zee_waterdeel\", \"KasWarenhuis\", \"Tank\", \"Huizenblok\", \"KloosterAbdij\", \"Zwembad_gebouw\", \"Sporthal\", \"ParkeerdakParkeerdekParkeergarage\", \"Gemeentehuis\", \"Toren\", \"WindmolenKorenmolen\", \"Gemaal\", \"Kapel\", \"Uitzichttoren\", \"Pompstation\", \"Manege\", \"Fort\", \"Rune\", \"Transformatorstation_gebouw\", \"Tankstation\", \"Museum\", \"Kasteel\", \"School\", \"Waterradmolen\", \"Ziekenhuis\", \"Postkantoor\", \"Bunker\", \"Koeltoren\", \"Vuurtoren\", \"Watertoren\", \"WindmolenWatermolen\", \"Universiteit\", \"RadiotorenTelevisietoren\", \"Bezoekerscentrum\", \"PsychiatrischZiekenhuisPsychiatrischCentrum\", \"Gevangenis\", \"Elektriciteitscentrale\", \"Politiebureau\", \"Radarpost\", \"Schaapskooi\", \"Lichttoren\", \"Werf_gebouw\", \"Radartoren\", \"Dok\", \"Veiling\", \"Fabriek\", \"Peilmeetstation\", \"Windmolen\", \"Schoorsteen\", \"Crematorium\", \"Stadion\", \"Paleis\", \"Kunstijsbaan\", \"Telecommunicatietoren\", \"Klokkentoren\", \"Zendtoren\", \"Brandweerkazerne\", \"Stationsgebouw\", \"MarkantGebouw\", \"Reddingboothuisje\", \"KliniekInrichtingSanatorium\", \"Recreatiecentrum\", \"Verkeerstoren\", \"Koepel\", \"KerncentraleKernreactor\", \"StadskantoorHulpsecretarie\", \"Hotel\", \"Remise\", \"Kerk\", \"Brandtoren\", \"Luchtwachttoren\", \"Silo\", \"Moskee\", \"OverigReligieusGebouw\", \"Synagoge\", \"MilitairGebouw\", \"Windturbine\", \"Tol_gebouw\", \"Boortoren\", \"Observatorium\", \"Wegrestaurant\", \"Bomenrij\", \"Koedam\", \"HegHaag\", \"Aanlegsteiger_inrichtingselement\", \"Hekwerk\", \"Wegafsluiting\", \"Verkeersgeleider\", \"Stuw\", \"Muur\", \"Geluidswering\", \"StrekdamKribGolfbreker\", \"Hoogspanningsleiding\", \"Sluisdeur\", \"Schietbaan\", \"Kabelbaan\", \"Paalwerk\", \"Stormvloedkering\", \"Tol_inrichtingselement\", \"Boom\", \"Strandpaal\", \"Hoogspanningsmast\", \"Wegwijzer\", \"Grenspunt\", \"Kruis\", \"Pijler\", \"Kilometerraaibord\", \"Paal\", \"Zendmast\", \"Kilometerpaal\", \"Windmolentje\", \"Dukdalf\", \"Peilschaal\", \"Scheepvaartlicht\", \"Botenhelling\", \"KilometerpaalWater\", \"KogelvangerSchietbaan\", \"GedenktekenMonument\", \"KilometerpaalSpoorweg\", \"Radiotelescoop\", \"MarkantObject\", \"Seinmast\", \"GpsKernnetpunt\", \"Kilometerraaipaal\", \"Klokkenstoel\", \"Vlampijp\", \"Busstation\", \"Oliepompinstallatie\", \"Hunebed\", \"Uitzichtpunt\", \"Baak\", \"ZichtbaarWrak\", \"Golfmeetpaal\", \"Helikopterlandingsplatform\", \"Kraan\", \"Gaswinning_inrichtingselement\", \"Metrostation\", \"Treinstation\", \"Sneltramhalte\", \"Kaap\", \"Havenhoofd\", \"Vliedberg\", \"Kabelbaanmast\", \"Plaatsnaambord\", \"Calamiteitendoorgang\", \"Leiding\", \"Luchtvaartlicht\", \"Radiobaken\", \"RdPunt\", \"Weg\", \"Spoor\", \"Water\", \"Wijk\", \"Buurtschap\", \"Gehucht\", \"Deelkern\", \"Buurt\", \"Woonkern\", \"Industriekern\", \"Recreatiekern\", \"Stadsdeel\", \"TaludHoogteverschil\", \"SteileRandAardrand\", \"Wal\", \"Trein\", \"Metro\", \"Tram\", \"Sneltram\", \"Gemengd\", \"Werf_functioneelGebied\", \"Park\", \"Gebouwencomplex\", \"Haven_functioneelGebied\", \"Natuurgebied\", \"Landgoed\", \"Infiltratiegebied\", \"Verdedigingswerk\", \"Boswachterij\", \"Tennispark\", \"Bedrijventerrein\", \"Eendenkooi\", \"Woonwagencentrum\", \"Transformatorstation_functioneelGebied\", \"Zuiveringsinstallatie\", \"SportterreinSportcomplex\", \"Begraafplaats\", \"Wildwissel\", \"Jachthaven\", \"Stortplaats\", \"Bungalowpark\", \"CampingKampeerterrein\", \"Heemtuin\", \"Volkstuinen\", \"Vakantiepark\", \"Sluizencomplex\", \"Ijsbaan\", \"DierentuinSafaripark\", \"Zenderpark\", \"Circuit\", \"Viskwekerij_functioneelGebied\", \"Ziekenhuiscomplex\", \"Verzorgingsplaats\", \"Openluchtmuseum\", \"Crossbaan\", \"Openluchttheater\", \"Waterkering\", \"Mosselbank\", \"Milieustraat\", \"Kassengebied\", \"VliegveldLuchthaven\", \"BotanischeTuin\", \"Golfterrein\", \"Zonnepark\", \"Kartingbaan\", \"Caravanpark\", \"Visvijvercomplex\", \"Erebegraafplaats\", \"KazerneLegerplaats\", \"MilitairOefengebiedSchietterrein\", \"ZwembadComplex\", \"Gaswinning_functioneelGebied\", \"Zweefvliegveldterrein\", \"Renbaan\", \"Attractiepark\", \"Grafheuvel\", \"Windturbinepark\", \"Tuincentrum\", \"Zandwinning\", \"Recreatiegebied\", \"Skibaan\", \"Productie-installatie\", \"Groeve\", \"Campus\", \"Helikopterlandingsterrein\", \"Zoutwinning\", \"GebiedVoorRadioastronomie\", \"NationaalPark\", \"Grindwinning\", \"Slipschool\", \"Emplacement\", \"Mijn\", \"Oliewinning\", \"Plantsoen\", \"Arboretum\", \"GebiedMetHogeObjecten\", \"NatuurgebiedNatuurreservaat\", \"Veerverbinding\", \"Autosnelweg\", \"RegionaleWeg\", \"Hoofdweg\", \"LokaleWeg\", \"Straat\", \"ParkeerplaatsCarpool\", \"Parkeerplaats\", \"RolbaanPlatform\", \"StartbaanLandingsbaan\", \"ParkeerplaatsPR\", \"Polder\", \"StreekVeld\", \"Bosgebied\", \"GeulVaargeul\", \"Heidegebied\", \"HeuvelBerg\", \"BankOndieptePlaat\", \"ZeegatZeearm\", \"Eiland\", \"KaapHoek\", \"Duingebied\", \"Zee_geografischGebied\", \"Wad\", \"TerpWierde\", \"Watergebied\", \"Hoogtepunt\", \"Dieptepunt\", \"Peil\", \"PeilWinterpeil\", \"PeilZomerpeil\", \"Laagwaterlijn\", \"Hoogtelijn\", \"Dieptelijn\", \"Hoogwaterlijn\", \"Gemeente\", \"Provincie\", \"Land\", \"TerritorialeZee\", \"Waterschap\", \"Overig_terrein\", \"Overig_waterdeel\", \"Overig_gebouw\", \"Overig_inrichtingselement\", \"Overig_planTopografie\", \"Overig_functioneelGebied\", \"Overig_wegdeel\", \"Overig_geografischGebied\", \"Terrein\", \"Waterdeel\", \"Gebouw\", \"Inrichtingselement\", \"PlanTopografie\", \"Plaats\", \"Relief\", \"Spoorbaandeel\", \"FunctioneelGebied\", \"Wegdeel\", \"GeografischGebied\", \"Hoogte\", \"RegistratiefGebied\"];\r\n\r\n/**\r\n * Hier kan je de index opvragen van een element in de array\r\n * @param className string\r\n * @returns {number}\r\n */\r\nexport function getIndexOfClasses(className) {\r\n    return classes.indexOf(className);\r\n}\r\n\r\n/**\r\n * Een functie die de front end gebruikt om recht geklikte resultaten te filteren. Deze kan je aanpassen.\r\n * @param res\r\n * @returns {boolean}\r\n */\r\nexport function isShownClickedResults(res) {\r\n    return res.getType() !== \"Land\" && res.getType() !== \"Provincie\";\r\n}\r\n\r\n/**\r\n * Dit is een functie die een kleur toewijst aan een klasse.\r\n * @param type\r\n * @returns {string|undefined}\r\n */\r\nexport function getColor(type) {\r\n    switch (type) {\r\n        case \"FunctioneelGebied\":\r\n            return \"green\";\r\n        case \"Gebouw\":\r\n            return \"red\";\r\n        case \"GeografischGebied\":\r\n            return \"mediumaquamarine\";\r\n        case \"Hoogte\":\r\n            return undefined;\r\n        case \"Inrichtingselement\":\r\n            return \"purple\";\r\n        case \"Plaats\":\r\n            return \"turqoise\";\r\n        case \"PlanTopografie\":\r\n            return undefined;\r\n        case \"RegistratiefGebied\":\r\n            return \"yellow\";\r\n        case \"Spoorbaandeel\":\r\n            return \"purple\";\r\n        case \"Terrein\":\r\n            return \"mediumaquamarine\";\r\n        case \"Relief\":\r\n            return undefined;\r\n        case \"Waterdeel\":\r\n            return \"blue\";\r\n        case \"Wegdeel\":\r\n            return \"purple\";\r\n        default:\r\n            return undefined;\r\n    }\r\n}\r\n\r\n/**\r\n * Wordt door de front-end gebruikt om de layering te bepalen.\r\n * @param list\r\n */\r\nexport function sortByObjectClass(list) {\r\n    list.sort((a, b) => {\r\n        a = a.properties;\r\n        b = b.properties;\r\n\r\n        if (a.getType() === \"Provincie\" || b.getType() === \"Provincie\") {\r\n            if (a.getType() === \"Provincie\" && b.getType() === \"Provincie\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Provincie\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getType() === \"Gemeente\" || b.getType() === \"Gemeente\") {\r\n            if (a.getType() === \"Gemeente\" && b.getType() === \"Gemeente\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Gemeente\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getType() === \"Woonkern\" || b.getType() === \"Woonkern\") {\r\n            if (a.getType() === \"Woonkern\" && b.getType() === \"Woonkern\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Woonkern\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getType() === \"Stadsdeel\" || b.getType() === \"Stadsdeel\") {\r\n            if (a.getType() === \"Stadsdeel\" && b.getType() === \"Stadsdeel\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Stadsdeel\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getType() === \"Wijk\" || b.getType() === \"Wijk\") {\r\n            if (a.getType() === \"Wijk\" && b.getType() === \"Wijk\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Wijk\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getType() === \"Buurt\" || b.getType() === \"Buurt\") {\r\n            if (a.getType() === \"Buurt\" && b.getType() === \"Buurt\") {\r\n                return 0;\r\n            } else if (a.getType() === \"Buurt\") {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (a.getObjectClass() === \"Gebouw\" || b.getObjectClass() === \"Gebouw\") {\r\n            if (a.getObjectClass() === \"Gebouw\" && b.getObjectClass() === \"Gebouw\") {\r\n                return 0;\r\n            } else if (a.getObjectClass() === \"Gebouw\") {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    })\r\n}\r\n\r\n/**\r\n * Verander elk eerste letter naar een hoofdletter\r\n * @param text\r\n * @returns {string}\r\n */\r\nexport function firstLetterCapital(text) {\r\n    return text.toLowerCase()\r\n        .split(' ')\r\n        .map(s => {\r\n            if (!s.startsWith(\"ij\")) {\r\n                return s.charAt(0).toUpperCase() + s.substring(1)\r\n            } else {\r\n                return s.charAt(0).toUpperCase() + s.charAt(1).toUpperCase() + s.substring(2)\r\n            }\r\n        })\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Haalt alles voor de # weg\r\n * @param url\r\n * @returns {*|void|string}\r\n */\r\nexport function stripUrlToType(url) {\r\n    return url.replace(/.*#/, \"\");\r\n}\r\n\r\n/**\r\n * Seperate de string gebasseerd op uppercase.\r\n * @param string\r\n * @returns {string}\r\n */\r\nexport function seperateUpperCase(string) {\r\n    //haal ook underscores weg\r\n    string = string.replace(\"_\", \" \");\r\n\r\n    string = string.split(/(?=[A-Z])/);\r\n    string.forEach((res, index, arr) => {\r\n            if (index !== 0) {\r\n                arr[index] = arr[index].charAt(0).toLowerCase() + arr[index].slice(1)\r\n            }\r\n        }\r\n    );\r\n\r\n    return string.join(\" \");\r\n}\r\n\r\n/**\r\n * Verandert een 1 of true naar ja. ander nee\r\n * @param string\r\n * @returns {string}\r\n */\r\nexport function veranderNaarJaNee(string) {\r\n    if (string === \"1\" || string === \"true\") {\r\n        return \"ja\";\r\n    }\r\n    return \"nee\";\r\n}\r\n\r\n/**\r\n * Sorteert op naam en dan geometry\r\n * Vooral gemaakt voor straten.\r\n * @param values\r\n * @param searchString\r\n */\r\nexport function sortByGeoMetryAndName(values, searchString) {\r\n    if (searchString) {\r\n        searchString = searchString.toUpperCase();\r\n    }\r\n\r\n    values.sort((a, b) => {\r\n        //kijk eerst of de gezochte string zich bevindt in de naam\r\n        if (a.naam && b.naam && searchString) {\r\n            let naama = a.naam.value.toUpperCase();\r\n            let naamb = b.naam.value.toUpperCase();\r\n\r\n            if (naama.includes(searchString) && !naamb.includes(searchString)) {\r\n                return -1;\r\n            } else if (!naama.includes(searchString) && naamb.includes(searchString)) {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        //sorteer op geometry\r\n        let aGeo = a.wktJson.value;\r\n        let bGeo = b.wktJson.value;\r\n\r\n        if (aGeo.startsWith(\"GEOMETRYCOLLECTION\") || bGeo.startsWith(\"GEOMETRYCOLLECTION\")) {\r\n            if (aGeo.startsWith(\"GEOMETRYCOLLECTION\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else if (aGeo.startsWith(\"MULTIPOLYGON\") || bGeo.startsWith(\"MULTIPOLYGON\")) {\r\n            if (aGeo.startsWith(\"MULTIPOLYGON\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else if (aGeo.startsWith(\"MULTILINESTRING\") || bGeo.startsWith(\"MULTILINESTRING\")) {\r\n            if (aGeo.startsWith(\"MULTILINESTRING\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else if (aGeo.startsWith(\"MULTIPOINT\") || bGeo.startsWith(\"MULTIPOINT\")) {\r\n            if (aGeo.startsWith(\"MULTIPOINT\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else if (aGeo.startsWith(\"POLYGON\") || bGeo.startsWith(\"POLYGON\")) {\r\n            if (aGeo.startsWith(\"POLYGON\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else if (aGeo.startsWith(\"LINESTRING\") || bGeo.startsWith(\"LINESTRING\")) {\r\n            if (aGeo.startsWith(\"LINESTRING\")) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    });\r\n}\r\n\r\nlet worker;\r\nlet latestString;\r\n\r\nexport function clusterObjects(res, text, setMethod) {\r\n    if (window.Worker) {\r\n        latestString = text;\r\n\r\n        if (!worker) {\r\n            worker = new Worker(\"./worker.js\");\r\n        }\r\n\r\n        worker.postMessage(res);\r\n\r\n        worker.onmessage = (data) => {\r\n            data = data.data;\r\n\r\n            if(text === latestString){\r\n\r\n                let results = data.resultaat.map(res => {\r\n                    return new Resultaat(\r\n                        res._url,\r\n                        res._naam,\r\n                        res._type,\r\n                        res._geoJson,\r\n                        res._color,\r\n                        res.__objectClass\r\n                    )\r\n                });\r\n                let clusters = data.clusters.map(res => {\r\n                    let values = res._values;\r\n\r\n                    values = values.map(res => {\r\n                        return new Resultaat(\r\n                            res._url,\r\n                            res._naam,\r\n                            res._type,\r\n                            res._geoJson,\r\n                            res._color,\r\n                            res.__objectClass\r\n                        )\r\n                    });\r\n\r\n                    return new ClusterObject(\r\n                        res._naam,\r\n                        res._type,\r\n                        res._geoJson,\r\n                        values,\r\n                        res._color,\r\n                        res._objectClass\r\n                    );\r\n\r\n                });\r\n\r\n                let res = clusters.concat(results);\r\n\r\n                if(text !== undefined){\r\n                    res = bringExactNameToFront(text, res);\r\n                }\r\n\r\n                setMethod(res, text !== undefined);\r\n            }\r\n        };\r\n\r\n        return \"waiting\";\r\n    } else {\r\n        let map = new Map();\r\n\r\n        for (let i = res.length - 1; i >= 0; i--) {\r\n            let naam = res[i].getType() === \"Waterloop\" ? res[i].getNaam() + res[i].getType() : res[i].getNaam() + res[i].getObjectClass();\r\n\r\n            if (res[i].getType() === \"Waterloop\" || res[i].getObjectClass() === \"Wegdeel\") {\r\n                if (map.has(naam)) {\r\n                    map.get(naam).push(res[i]);\r\n                } else {\r\n                    map.set(naam, [res[i]]);\r\n                }\r\n\r\n                res.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        let clusterMap = new Map();\r\n\r\n        map.forEach((value, key, map) => {\r\n            let mapCounter = 0;\r\n\r\n            while (value.length > 0) {\r\n                let eerste = value.shift();\r\n                let cluster = [eerste];\r\n\r\n                clusterMap.set(eerste.getNaam() + mapCounter, cluster);\r\n                mapCounter++;\r\n\r\n                for (let i = 0; i < cluster.length; i++) {\r\n                    for (let j = value.length - 1; j >= 0; j--) {\r\n                        let inter = turf.lineIntersect(cluster[i].getGeoJson(), value[j].getGeoJson());\r\n\r\n                        if (inter.features.length > 0) {\r\n                            cluster.push(value[j]);\r\n                            value.splice(j, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        let clusters = [];\r\n\r\n        clusterMap.forEach(value => {\r\n            let first = value[0];\r\n            let geoJSON = [];\r\n\r\n            value.forEach(res => {\r\n                let geo;\r\n\r\n                if (res.getGeoJson().type !== \"Polygon\") {\r\n                    geo = turf.buffer(res.getGeoJson(), 0.0001).geometry;\r\n                } else {\r\n                    geo = res.getGeoJson();\r\n                }\r\n\r\n                geoJSON.push({\r\n                        type: 'Feature',\r\n                        geometry: geo\r\n                    }\r\n                )\r\n            });\r\n\r\n            geoJSON = turf.union(...geoJSON).geometry;\r\n\r\n            clusters.push(new ClusterObject(first.getNaam(), first.getType(), geoJSON, value, first.getColor(), first.getObjectClass()));\r\n        });\r\n\r\n        return bringExactNameToFront(text, clusters.concat(res));\r\n    }\r\n}\r\n\r\nexport function bringExactNameToFront(string, res) {\r\n    let j = 0;\r\n    string = string.toUpperCase();\r\n\r\n    for (let i = 0; i < res.length; i++) {\r\n        if (string === res[i].getNaam().toUpperCase()) {\r\n            let x = res[j];\r\n            res[j] = res[i];\r\n            res[i] = x;\r\n\r\n            j++;\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\n/**\r\n *\r\n * @param res\r\n * @param latestString\r\n * @returns {[]}\r\n */\r\nexport function processSearchScreenResults(res, latestString) {\r\n    let returnObject = [];\r\n    res = res.results.bindings;\r\n    let map = new Map();\r\n\r\n    for (let i = 0; i < res.length; i++) {\r\n        let value = res[i].s.value;\r\n\r\n        if (map.has(value)) {\r\n            map.get(value).push(res[i]);\r\n        } else {\r\n            map.set(value, [res[i]]);\r\n        }\r\n    }\r\n\r\n    map.forEach((valueMap, key, map) => {\r\n        let naam, type, geoJson, color, objectClass;\r\n\r\n        sortByGeoMetryAndName(valueMap, latestString);\r\n\r\n        let fO = valueMap[0];\r\n\r\n        if ((fO.brugnaam && fO.brugnaam.value.toUpperCase() === latestString.toUpperCase())\r\n            || (fO.tunnelnaam && fO.tunnelnaam.value.toUpperCase() === latestString.toUpperCase())\r\n            || (fO.sluisnaam && fO.sluisnaam.value.toUpperCase() === latestString.toUpperCase())\r\n            || (fO.knooppuntnaam && fO.knooppuntnaam.value.toUpperCase() === latestString.toUpperCase())) {\r\n            if (fO.brugnaam) {\r\n                naam = fO.brugnaam.value;\r\n            } else if (fO.tunnelnaam) {\r\n                naam = fO.tunnelnaam.value;\r\n            } else if (fO.sluisnaam) {\r\n                naam = fO.sluisnaam.value;\r\n            } else {\r\n                naam = fO.knooppuntnaam.value;\r\n            }\r\n\r\n            naam = naam.replace(/\\|/g, \"\");\r\n        } else if (fO.offnaam && fO.offnaam.value.toUpperCase() === latestString.toUpperCase()) {\r\n            //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n            //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n            naam = fO.offnaam.value;\r\n        } else if (fO.naamFries && fO.naamFries.value.toUpperCase() === latestString.toUpperCase()) {\r\n            //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n            //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n            naam = fO.naamFries.value;\r\n        } else if (fO.naamNl && fO.naamNl.value.toUpperCase() === latestString.toUpperCase()) {\r\n            naam = fO.naamNl.value;\r\n        } else if (fO.naam && fO.naam.value.toUpperCase() === latestString.toUpperCase()) {\r\n            naam = fO.naam.value;\r\n        } else if ((fO.brugnaam && fO.brugnaam.value.toUpperCase().includes(latestString.toUpperCase()))\r\n            || (fO.tunnelnaam && fO.tunnelnaam.value.toUpperCase().includes(latestString.toUpperCase()))\r\n            || (fO.sluisnaam && fO.sluisnaam.value.toUpperCase().includes(latestString.toUpperCase()))\r\n            || (fO.knooppuntnaam && fO.knooppuntnaam.value.toUpperCase().includes(latestString.toUpperCase()))\r\n        ) {\r\n            if (fO.brugnaam) {\r\n                naam = fO.brugnaam.value;\r\n            } else if (fO.tunnelnaam) {\r\n                naam = fO.tunnelnaam.value;\r\n            } else if (fO.sluisnaam) {\r\n                naam = fO.sluisnaam.value;\r\n            } else {\r\n                naam = fO.knooppuntnaam.value;\r\n            }\r\n\r\n            naam = naam.replace(/\\|/g, \"\");\r\n        } else if (fO.offnaam && fO.offnaam.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n            //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n            //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n            naam = fO.offnaam.value;\r\n        } else if (fO.naamFries && fO.naamFries.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n            //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n            //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n            naam = fO.naamFries.value;\r\n        } else if (fO.naamNl && fO.naamNl.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n            naam = fO.naamNl.value;\r\n        } else if (fO.naam && fO.naam.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n            naam = fO.naam.value;\r\n        } else {\r\n            if (fO.naam) {\r\n                naam = fO.naam.value;\r\n            } else if (fO.naamNl) {\r\n                naam = fO.naamNl.value;\r\n            } else if (fO.naamFries) {\r\n                naam = fO.naamFries.value;\r\n            }\r\n        }\r\n\r\n        //krijg de type\r\n        if (fO.type !== undefined) {\r\n            let indexes = [];\r\n\r\n            //sorteer dit op basis van relevantie.\r\n            for (let j = 0; j < valueMap.length; j++) {\r\n                let value = stripUrlToType(valueMap[j].type.value);\r\n                let index = getIndexOfClasses(value);\r\n                indexes.push({index: index, type: value});\r\n            }\r\n\r\n            indexes.sort((a, b) => {\r\n                return a.index - b.index;\r\n            });\r\n\r\n            let value = indexes[0].type;\r\n            type = seperateUpperCase(value);\r\n            objectClass = seperateUpperCase(indexes[indexes.length - 1].type);\r\n\r\n            color = getColor(indexes[indexes.length - 1].type);\r\n        }\r\n\r\n        //de wkt naar geojson\r\n        if (fO.wktJson !== undefined) {\r\n            let wktJson = fO.wktJson.value;\r\n            geoJson = wellKnown.parse(wktJson);\r\n        }\r\n\r\n        let resultaatObj = new Resultaat(key, naam, type, geoJson, color, objectClass);\r\n        returnObject.push(resultaatObj);\r\n    });\r\n\r\n    return returnObject;\r\n}\r\n\r\nexport function processGetAllAttributes(res, clickedRes) {\r\n    let nodes = res.results.bindings;\r\n\r\n    let naam;\r\n    let naamNl;\r\n    let naamFries;\r\n    let naamOfficieel;\r\n    let burgNaam;\r\n    let tunnelNaam;\r\n    let knoopPuntNaam;\r\n    let sluisNaam;\r\n    let types = [];\r\n    let overigeAttributen = [];\r\n\r\n    /**\r\n     * Ga langs elk attribuut en voeg deze toe aan de correct attribuut\r\n     */\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        let key = stripUrlToType(nodes[i].prd.value);\r\n        let value = nodes[i].obj.value;\r\n\r\n        if (key === \"naam\") {\r\n            naam = value;\r\n        } else if (key === \"brugnaam\") {\r\n            value = value.replace(/\\|/g, \"\");\r\n            burgNaam = value;\r\n        } else if (key === \"tunnelnaam\") {\r\n            value = value.replace(/\\|/g, \"\");\r\n            tunnelNaam = value;\r\n        } else if (key === \"sluisnaam\") {\r\n            value = value.replace(/\\|/g, \"\");\r\n            sluisNaam = value;\r\n        } else if (key === \"knooppuntnaam\") {\r\n            value = value.replace(/\\|/g, \"\");\r\n            knoopPuntNaam = value;\r\n        } else if (key === \"naamNL\") {\r\n            naamNl = value;\r\n        } else if (key === \"naamFries\") {\r\n            naamFries = value;\r\n        } else if (key === \"type\") {\r\n            types.push((stripUrlToType(value)));\r\n        } else if (key === \"naamOfficieel\") {\r\n            naamOfficieel = value.replace(/\\|/g, \"\");\r\n        } else if (key !== \"label\") {\r\n            let formattedKey;\r\n\r\n            if (key === \"isBAGnaam\") {\r\n                formattedKey = \"BAG-naam\";\r\n            } else if (key === \"isBAGwoonplaats\") {\r\n                formattedKey = \"BAG-woonplaats\";\r\n            } else if (key === \"aantalinwoners\") {\r\n                formattedKey = \"Aantal inwoners\"\r\n            } else {\r\n                formattedKey = seperateUpperCase(key)\r\n            }\r\n\r\n            if (key === \"soortnaam\" || key === \"isBAGwoonplaats\" || key === \"bebouwdeKom\" || key === \"aantalinwoners\" || key === \"getijdeinvloed\"\r\n                || key === \"hoofdafwatering\" || key === \"isBAGnaam\" || key === \"elektrificatie\" || key === \"gescheidenRijbaan\") {\r\n\r\n                if (key !== \"aantalinwoners\" && key !== \"soortnaam\") {\r\n                    value = veranderNaarJaNee(value);\r\n                }\r\n\r\n                overigeAttributen.unshift({key: (formattedKey), value: value});\r\n            } else {\r\n                overigeAttributen.push({key: (formattedKey), value: value});\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sorteer types van subclass naar hoofdclass\r\n     * @type {array van types}\r\n     */\r\n    let indexes = [];\r\n    for (let i = 0; i < types.length; i++) {\r\n        let index = getIndexOfClasses(types[i]);\r\n        let value = seperateUpperCase(types[i]);\r\n        indexes.push({index: index, type: value});\r\n    }\r\n\r\n    indexes.sort((a, b) => {\r\n        return a.index - b.index;\r\n    });\r\n\r\n    if (clickedRes.getRes().getGeoJson().type !== \"Point\") {\r\n        let area = calculateArea(clickedRes.getAsFeature());\r\n        overigeAttributen.push({key: \"oppervlakte\", value: area});\r\n    }\r\n\r\n    /**\r\n     * Laad de attributen in de clicked res\r\n     */\r\n    clickedRes.loadInAttributes(\r\n        naam,\r\n        naamOfficieel,\r\n        naamNl,\r\n        naamFries,\r\n        [indexes[0].type],\r\n        overigeAttributen,\r\n        burgNaam,\r\n        tunnelNaam,\r\n        sluisNaam,\r\n        knoopPuntNaam);\r\n}\r\n\r\nfunction calculateArea(feature) {\r\n    let area = Math.round(turf.area(feature));\r\n    return area.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\") + \" m2\";\r\n}","import React from 'react';\r\n\r\nclass StartScreen extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"startScreen\">\r\n                <p className=\"boldHeaderText\">Zoek je een naam? Je vindt m hier!</p>\r\n                <p className=\"explainText\">\r\n                    In de BRT Namenzoeker kun je zoeken op alle namen die in de topografische bestanden en kaarten van\r\n                    het Kadaster aanwezig zijn. Aardrijkskundige namen zijn onmisbaar om te beschrijven waar we zijn,\r\n                    waar we vandaan komen en waar we naartoe gaan. In de <a href=\"http://www.kadaster.nl/brt\"\r\n                                                                            target=\"_blank\" rel=\"noreferrer noopener\">Basisregistratie\r\n                    Topografie (BRT)</a>,\r\n                    die het Kadaster beheert en bijhoudt, registreren we namen van gemeenten, plaatsen, wegen, wateren,\r\n                    gebieden, gebouwen en allerlei andere objecten in Nederland. In deze applicatie vind je ze,\r\n                    mt het bijbehorende object en aanvullende informatie.\r\n                </p>\r\n                <p className=\"boldHeaderText\">Hoe werkt het?</p>\r\n                <p className=\"explainText\">\r\n                    Je kunt op twee manieren zoeken:\r\n                </p>\r\n\r\n                <ol>\r\n                    <li>\r\n                        Tik in het zoekveld hierboven een naam in en de resultaten verschijnen direct in een lijst\r\n                        n\r\n                        als object in de kaart hiernaast. Je vindt namen die exact gelijk zijn aan je zoekterm, maar\r\n                        ook namen die je zoekterm bevatten. Wil je alleen exact zoeken, zet je zoekterm dan tussen .\r\n                        Het maximumaantal resultaten is 1000.\r\n                    </li>\r\n                    <li>\r\n                        Of klik met je rechtermuisknop in de kaart (bij een aanraakscherm je vinger twee seconden op de\r\n                        kaart houden) en alle objecten met een naam in de buurt\r\n                        verschijnen\r\n                        in de kaart en in een lijst met resultaten. Zo kun je elke naam vinden, zelfs als je m nog\r\n                        niet\r\n                        kent!\r\n                    </li>\r\n                </ol>\r\n                <br/>\r\n\r\n                <p className=\"explainText\">\r\n                    Als je een zoekresultaat aanklikt, krijg je aanvullende informatie over het bijbehorende object te\r\n                    zien. Bij welk object hoort de naam, wat is de functie, hoeveel inwoners heeft je stad of dorp, wat\r\n                    is de oppervlakte van een gebied? De antwoorden vind je hier.\r\n                </p>\r\n                <p className=\"boldHeaderText\">Mis je nog een naam? Meld het ons!</p>\r\n                <p className=\"explainText\">\r\n                    Via <a href=\"http://www.verbeterdekaart.nl/\" target=\"_blank\" rel=\"noreferrer noopener\">Verbeter de\r\n                    kaart</a> kun je onjuiste of ontbrekende\r\n                    namen terugmelden.\r\n                    Dankzij jouw hulp kunnen we onze bestanden en kaarten nog beter en completer maken.\r\n                </p>\r\n                <p className=\"boldHeaderText\">Meer van de BRT zien?</p>\r\n                <p className=\"explainText\">\r\n                    Kijk ook eens naar onze <a href=\"https://labs.kadaster.nl/cases/brt\" target=\"_blank\"\r\n                                               rel=\"noreferrer noopener\">datastorys</a> of maak met\r\n                    onze kaarten een reis door de tijd in <a href=\"http://www.topotijdreis.nl/\" target=\"_blank\"\r\n                                                             rel=\"noreferrer noopener\">Topotijdreis</a>.\r\n                </p>\r\n                <p className=\"boldHeaderText\">Over de BRT Namenzoeker</p>\r\n                <p className=\"explainText\">\r\n                    De BRT Namenzoeker is ontwikkeld door het <a\r\n                    href=\"https://labs.kadaster.nl/\" target=\"_blank\"\r\n                    rel=\"noreferrer noopener\">Kadaster Data Science Team</a> in samenwerking met het BRT\r\n                    Team. Het is een demonstrator gericht op de toegevoegde waarde van de BRT op het gebied van namen\r\n                    zichtbaar te maken, maar daarnaast heeft het ook een technische doelstelling om de (on)mogelijkheden\r\n                    van verschillende technische interfaces te laten zien. Met het instellingen radartje linksonder is\r\n                    de technische interface instelbaar. Standaard staat het ingesteld op de SPARQL interface van de\r\n                    Kadaster Labs omgeving, waarin een kopie van de BRT is opgenomen. Daarnaast kunt u de SPARQL\r\n                    interface van PDOK selecteren. Dit publieke endpoint is de publicatie bron, maar biedt mindere\r\n                    performance waardoor de applicatie trager wordt. Tot slot kan er ook gekozen worden voor de Elastic\r\n                    Search interface op Kadaster Labs; hiermee wordt Fuzzy Search mogelijk; betere resultaten als er\r\n                    een tikfout gemaakt wordt. We zien graag je reactie op de BRT Namenzoeker op het <a\r\n                    href=\"https://geoforum.nl/\" target=\"_blank\"\r\n                    rel=\"noreferrer noopener\">Geoforum.nl</a>.\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StartScreen;","class Observable{\r\n    constructor() {\r\n        this._subscribers = [];\r\n    }\r\n\r\n    updateSubscribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    /**\r\n     * Als je wilt subscriben moet je de methode update implementeren.\r\n     * Ook niet vergeten om te unsubscriben.\r\n     * @param subscriber\r\n     */\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n}\r\n\r\nexport default Observable;","/**\r\n * Een resultaat op het resultaten scherm.\r\n */\r\nimport Observable from \"./Observable\";\r\n\r\nclass Resultaat extends Observable{\r\n    /**\r\n     * @param url string\r\n     * @param naam string\r\n     * @param type string\r\n     * @param geoJson geoJson object\r\n     * @param color string\r\n     * @param objectClass string\r\n     */\r\n    constructor(url , naam, type, geoJson, color, objectClass){\r\n        super();\r\n        this._url = url;\r\n\r\n        this._naam = naam;\r\n        this._type = type;\r\n        this._geoJson = geoJson;\r\n        this._color = color;\r\n        this._objectClass = objectClass;\r\n\r\n        this._onHoverDef = undefined;\r\n        this._onHoverOffDef = undefined;\r\n    }\r\n\r\n    /**\r\n     * Wordt gebruikt om de rest van de attributen in te laden als je ze eerst niet hebt\r\n     * @param naam string\r\n     * @param type string\r\n     * @param geojson GeoJson\r\n     * @param color string\r\n     * @param objectClass string\r\n     */\r\n    setSecondProperties(naam, type, geojson, color, objectClass){\r\n        this._type = type;\r\n        this._naam = naam;\r\n        this._geoJson = geojson;\r\n        this._color = color;\r\n        this._objectClass = objectClass;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getObjectClass(){\r\n        return this._objectClass;\r\n    }\r\n\r\n    getNaam(){\r\n        return this._naam;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getGeoJson(){\r\n        return this._geoJson;\r\n    }\r\n\r\n    setGeoJson(geoJson){\r\n        this._geoJson = geoJson;\r\n    }\r\n\r\n    getColor(){\r\n        return this._color;\r\n    }\r\n\r\n    /**\r\n     * Geeft een feature object terug met zichzelf en geojson\r\n     * @returns {{geometry: GeoJson, properties: Resultaat}}\r\n     */\r\n    getAsFeature(){\r\n        return  {\r\n            type: \"Feature\",\r\n            properties: this,\r\n            geometry: this._geoJson\r\n        }\r\n    }\r\n\r\n    _setOnHover(func){\r\n        this._onHoverDef = func;\r\n    }\r\n\r\n    _setOnHoverOff(func){\r\n        this._onHoverOffDef = func;\r\n    }\r\n\r\n    _onHover(){\r\n        if(this._onHoverDef){\r\n            this._onHoverDef();\r\n        }\r\n    }\r\n\r\n    _onHoverOff(){\r\n        if (this._onHoverOffDef) {\r\n            this._onHoverOffDef()\r\n        }\r\n    }\r\n}\r\n\r\nexport default Resultaat;","import React from 'react';\r\nimport Resultaat from \"../../model/Resultaat\";\r\n\r\nclass ResultScreen extends React.Component {\r\n    render() {\r\n        let results;\r\n\r\n        if(this.props.res.getClickedCluster()){\r\n            results = this.props.res.getClickedCluster().getValues();\r\n        }else{\r\n            results = this.props.res.getRightClickedRes().length > 0 ? this.props.res.getRightClickedRes() : this.props.res.getResults();\r\n        }\r\n\r\n        let elements = results.map(res => {\r\n            let pElementHoofd = (<p className= \"hoofdText\">&nbsp;</p>);\r\n            let pElementSub = (<p className= \"subText\">&nbsp;</p>);\r\n\r\n            if(res.getNaam()){\r\n                pElementHoofd = (<p className= \"hoofdText\">{res.getNaam()}</p>);\r\n            }\r\n\r\n            if(res.getType()){\r\n                let color;\r\n\r\n                if(res.getColor()){\r\n                    color = {color: this.props.getHexFromColor(res.getColor(), true)};\r\n                }\r\n\r\n                pElementSub = (<p className= \"subText\" style={color}>\r\n                    {res.getType() ? res.getType() : String.fromCharCode(32)}</p>);\r\n            }\r\n\r\n            return (<li key={res instanceof Resultaat ? res.getUrl() + res.getNaam() : res.getNaam + res.getValues()[0].getUrl()}\r\n                        className=\"liResultScreen\"\r\n                        onClick={() => {this.props.onClickItem(res)}}\r\n                        onMouseEnter={() => {res._onHover()}}\r\n                        onMouseLeave={() => {res._onHoverOff()}}>\r\n                {pElementHoofd}\r\n                {pElementSub}\r\n            </li>)\r\n        });\r\n\r\n        return(\r\n            <div className=\"homeScreen\">\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultScreen;","import Observable from \"./Observable\";\r\n\r\nclass ClusterObject extends Observable{\r\n    constructor(naam, type,geoJSON ,values, color, objectClass){\r\n        super();\r\n\r\n        this._naam = naam;\r\n        this._type = type;\r\n        this._geoJson = geoJSON;\r\n        this._values = values;\r\n        this._color = color;\r\n        this._objectClass = objectClass;\r\n\r\n        this._onHoverDef = undefined;\r\n        this._onHoverOffDef = undefined;\r\n    }\r\n\r\n    getColor(){\r\n        return this._color;\r\n    }\r\n\r\n    getObjectClass(){\r\n        return this._objectClass;\r\n    }\r\n\r\n    getNaam(){\r\n        return this._naam;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getValues(){\r\n        return this._values;\r\n    }\r\n\r\n    _setOnHover(func){\r\n        this._onHoverDef = func;\r\n    }\r\n\r\n    _setOnHoverOff(func){\r\n        this._onHoverOffDef = func;\r\n    }\r\n\r\n    _onHover(){\r\n        if(this._onHoverDef){\r\n            this._onHoverDef();\r\n        }\r\n    }\r\n\r\n    _onHoverOff(){\r\n        if (this._onHoverOffDef) {\r\n            this._onHoverOffDef()\r\n        }\r\n    }\r\n\r\n    getValuesAsFeatures() {\r\n        return this._values.map(res => {\r\n            return res.getAsFeature();\r\n        })\r\n    }\r\n\r\n\r\n    getAsFeature(){\r\n        return  {\r\n            type: \"Feature\",\r\n            properties: this,\r\n            geometry: this._geoJson\r\n        }\r\n    }\r\n}\r\n\r\nexport default ClusterObject;","import {\r\n    processSearchScreenResults,\r\n    processGetAllAttributes,\r\n    clusterObjects,\r\n    firstLetterCapital\r\n} from \"../ProcessorMethods\";\r\n\r\n/**\r\n * Dit is het laatst ingetype string. zorgt ervoor dat je niet vorige resultaten rendert\r\n * @type {string}\r\n */\r\nlet latestString = \"\";\r\n\r\n/**\r\n * Vind een match. Dit zoekt op exact en contains.\r\n * Als je het opnieuw wilt implementeren moet deze er in blijven.\r\n * Je zal een string krijgen die door de gebruiker ingetypte search query bevat.\r\n *\r\n * @param text de geschreven text.\r\n * @returns {Promise<string|undefined>} Undefined wanneer de fetch request veroudert is en een array met Resultaat.js als\r\n * de query nog niet veroudert is, Kan ook de string \"error\" terug krijgen. Dit is wanneer er een netwerk error is.\r\n */\r\nexport async function getMatch(text, url, setResFromOutside) {\r\n    let isExactMatch = text.match(/\".*\"/);\r\n    text = text.replace(/\"/g, \"\");\r\n\r\n    //update eerst de laatst ingetype string\r\n    latestString = text;\r\n\r\n    //doe hierna 2 queries. Eentje voor exacte match\r\n    let exactMatch = await queryTriply(nameQueryExactMatch(firstLetterCapital(text)), url);\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (exactMatch.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //zet deze om in een array met Resultaat.js\r\n    exactMatch = await exactMatch.text();\r\n    exactMatch = await makeSearchScreenResults(JSON.parse(exactMatch), url);\r\n\r\n    if (isExactMatch) {\r\n        return clusterObjects(exactMatch, text, setResFromOutside);\r\n    }\r\n\r\n    //Doe hierna nog een query voor dingen die op de ingetypte string lijken.\r\n    let result = await queryTriply(nameQueryForRegexMatch(text), url);\r\n\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (result.status > 300) {\r\n        return \"error\";\r\n    }\r\n\r\n    //zet netwerk res om in een array met Resultaat.js\r\n    result = await result.text();\r\n    result = await makeSearchScreenResults(JSON.parse(result), url);\r\n\r\n    //voeg de arrays samen.\r\n    let res = mergeResults(exactMatch, result);\r\n\r\n    return clusterObjects(res, text, setResFromOutside);\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @param endpointurl\r\n * @returns {Promise<void>}\r\n */\r\nexport async function getAllAttribtes(clickedRes, endpointurl) {\r\n    /**\r\n     * Haal alle attributen van\r\n     */\r\n    let url = clickedRes.getUrl();\r\n\r\n    let res = await queryTriply(allAttributesFromUrl(url), endpointurl);\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    processGetAllAttributes(res, clickedRes);\r\n}\r\n\r\n/**\r\n * maakt van een lijst van Result.js objecten uit de sparql query.\r\n * @param results\r\n * @param url\r\n * @returns {[]}\r\n */\r\nasync function makeSearchScreenResults(results, url) {\r\n    results = results.results.bindings;\r\n\r\n    if(results.length === 0){\r\n        return [];\r\n    }\r\n\r\n    let string = \"\";\r\n    for (let i = 0; i < results.length; i++) {\r\n        string += `<${results[i].sub.value}>`;\r\n    }\r\n\r\n    let res = await queryTriply(queryBetterForType(string), url);\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (res.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    return processSearchScreenResults(res, latestString);\r\n}\r\n\r\n/**\r\n * Voeg resultaten samen\r\n * @param exact\r\n * @param regex\r\n * @returns {any[] | string}\r\n */\r\nfunction mergeResults(exact, regex) {\r\n    exact.forEach(resexact => {\r\n            regex = regex.filter(resregex => {\r\n                return resexact.getUrl() !== resregex.getUrl();\r\n            });\r\n        }\r\n    );\r\n\r\n    return exact.concat(regex);\r\n}\r\n\r\nexport async function queryTriply(query, url) {\r\n    return await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n\r\n}\r\n\r\nfunction nameQueryExactMatch(query) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct * WHERE {\r\n              {?sub brt:naamNL \"${query}\"@nl.} union {?sub brt:naam \"${query}\"@nl.} union {?sub brt:naamFries \"${query}\"@fy.} UNION {?sub brt:brugnaam \"${query}\"@nl}  UNION {?sub brt:tunnelnaam \"${query}\"@nl} UNION {?sub brt:sluisnaam \"${query}\"@nl} UNION {?sub brt:knooppuntnaam \"${query}\"@nl} UNION {?sub brt:naamOfficieel  \"${query}\"@nl} UNION {?sub brt:naamOfficieel \"${query}\"@fy}\r\n            }\r\n            LIMIT 1000\r\n`\r\n}\r\n\r\nfunction nameQueryForRegexMatch(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct ?sub WHERE {\r\n            { ?sub brt:naam ?label } UNION { ?sub brt:naamNL ?label } UNION {?sub brt:naamFries ?label} UNION {?sub brt:brugnaam ?label}  UNION {?sub brt:tunnelnaam ?label} UNION {?sub brt:sluisnaam ?label} UNION {?sub brt:knooppuntnaam ?label} UNION {?sub brt:naamOfficieel ?label}.\r\n              \r\n              FILTER(REGEX(?label, \"${queryString}\", \"i\")).\r\n            }\r\n            LIMIT 1000\r\n            `\r\n}\r\n\r\nexport function queryBetterForType(values) {\r\n    return `\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n    \r\n    SELECT * WHERE {\r\n        VALUES ?s {\r\n           ${values}\r\n        }\r\n        ?s a ?type.\r\n        \r\n  Optional{?s brt:naam ?naam.}.\r\n  Optional{?s brt:naamNL ?naamNl.}.\r\n  Optional{?s brt:naamFries ?naamFries}.\r\n  Optional{?s brt:knooppuntnaam ?knooppuntnaam.}.\r\n  Optional{?s brt:sluisnaam ?sluisnaam.}.\r\n  Optional{?s brt:tunnelnaam ?tunnelnaam}.\r\n  Optional{?s brt:brugnaam ?brugnaam.}.\r\n  Optional{?s brt:naamOfficieel ?offnaam.}.\r\n  Optional{?s geo:hasGeometry/geo:asWKT ?wktJson}.\r\n  }\r\n`\r\n}\r\n\r\nfunction allAttributesFromUrl(namedNode) {\r\n    return `PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n\r\n            SELECT * WHERE {\r\n                <${namedNode}> ?prd ?obj.\r\n            }`\r\n}\r\n","import {clusterObjects, processSearchScreenResults} from \"../ProcessorMethods\";\r\nimport {queryTriply, queryBetterForType} from './CommunicatorSPARQL';\r\n\r\nlet latestString;\r\n\r\nexport async function getMatch(text, setResFromOutside) {\r\n    //update eerst de laatst ingetype string\r\n    latestString = text;\r\n\r\n    let res = await queryESDLK(text);\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (res.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    console.log(res);\r\n\r\n    res = await makeSearchScreenResults(res);\r\n    return clusterObjects(res, text, setResFromOutside);\r\n}\r\n\r\n/**\r\n * maakt van een lijst van Result.js objecten uit de sparql query.\r\n * @param results\r\n * @returns {[]}\r\n */\r\nasync function makeSearchScreenResults(results) {\r\n    results = results.hits.hits;\r\n\r\n    let string = \"\";\r\n    for (let i = 0; i < results.length; i++) {\r\n        string += `<${results[i]._id}>`;\r\n    }\r\n\r\n    let res = await queryTriply(queryBetterForType(string));\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (res.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    return processSearchScreenResults(res, latestString);\r\n}\r\n\r\nasync function queryESDLK(query) {\r\n    return await fetch(`https://api.labs.kadaster.nl/datasets/kadaster/brt/services/search/search?query=${query}`, {\r\n        method: 'GET'\r\n    });\r\n}","import Resultaat from \"../../model/Resultaat\";\r\nimport * as wellKnown from \"wellknown\";\r\nimport * as PreProcessor from \"../ProcessorMethods\";\r\nimport {clusterObjects, sortByGeoMetryAndName} from \"../ProcessorMethods\";\r\n\r\n/**\r\n * Haalt dingen op aan de hand van de gegeven coordinaten.\r\n * @param lat\r\n * @param long\r\n * @param top\r\n * @param left\r\n * @param bottom\r\n * @param right\r\n * @returns {Promise<string|[]>}\r\n */\r\nexport async function getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside) {\r\n    if (right - left > 0.05 || top - bottom > 0.0300) {\r\n        left = long - 0.025;\r\n        right = long + 0.025;\r\n        top = lat + 0.01500;\r\n        bottom = lat - 0.01500;\r\n    }\r\n\r\n    let factor = 0.33;\r\n\r\n    let stop = lat - ((top-bottom)/2) * factor;\r\n    let sbottom = lat + ((top-bottom)/2) * factor;\r\n    let sright = long + ((right-left)/2) * factor;\r\n    let sleft = long - ((right-left)/2) * factor;\r\n\r\n    let nonstreets = await queryTriply(queryForCoordinatesNonStreets(top, left, bottom, right));\r\n\r\n    if (nonstreets.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //Zet deze om in een array met Resultaat.js\r\n    nonstreets = await nonstreets.text();\r\n    nonstreets = await makeSearchScreenResults(JSON.parse(nonstreets));\r\n\r\n    let streets = await queryTriply(queryForCoordinatesStreets(stop, sleft, sbottom, sright));\r\n    if (streets.status > 300) {\r\n        //bij een network error de string error\r\n        return clusterObjects(nonstreets, undefined, setResFromOutside);\r\n    }\r\n\r\n    //Zet deze om in een array met Resultaat.js\r\n    streets = await streets.text();\r\n    streets = await makeSearchScreenResults(JSON.parse(streets));\r\n\r\n    nonstreets = mergeResults(streets, nonstreets);\r\n    return clusterObjects(nonstreets, undefined, setResFromOutside);\r\n}\r\n\r\n/**\r\n * Voeg resultaten samen\r\n * @param exact\r\n * @param regex\r\n * @returns {any[] | string}\r\n */\r\nfunction mergeResults(exact, regex) {\r\n    exact.forEach(resexact => {\r\n            regex = regex.filter(resregex => {\r\n                return resexact.getUrl() !== resregex.getUrl();\r\n            });\r\n        }\r\n    );\r\n\r\n    return exact.concat(regex);\r\n}\r\n\r\n/**\r\n * Zet de sparql json resulaten om in een Resultaat.js array\r\n * @param results\r\n * @returns {Promise<string|[]>}\r\n */\r\nasync function makeSearchScreenResults(results) {\r\n    results = results.results.bindings;\r\n    let returnObject = [];\r\n\r\n    //maak de query\r\n    let string = \"\";\r\n    for (let i = 0; i < results.length; i++) {\r\n        string += `<${results[i].sub.value}>`;\r\n    }\r\n\r\n    let res = await queryTriply(queryBetterForType(string));\r\n\r\n    if (res.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //verwerk de query\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    res = res.results.bindings;\r\n\r\n    // de query zorgt ervoor dat meerdere keren hetzelfde object wordt terug gegeven. Hierdoor moet je ze bij elkaar rapen\r\n    //De key voor de map is de linked data url\r\n    let map = new Map();\r\n\r\n    for (let i = 0; i < res.length; i++) {\r\n        let value = res[i].s.value;\r\n\r\n        if (map.has(value)) {\r\n            map.get(value).push(res[i]);\r\n        } else {\r\n            map.set(value, [res[i]]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Voor elke object\r\n     */\r\n    map.forEach((valueMap, key, map) => {\r\n        let naam, type, geoJson, color, objectClass;\r\n\r\n        //dit sorteert de resultaten op gemeomety en dan naam.\r\n        //dus groot eerst\r\n        sortByGeoMetryAndName(valueMap);\r\n\r\n        let fO = valueMap[0];\r\n\r\n        if (fO.brugnaam || fO.tunnelnaam || fO.sluisnaam || fO.knooppuntnaam) {\r\n            //staat zo want de naam moet verandert worden.\r\n            if (fO.brugnaam) {\r\n                naam = fO.brugnaam.value;\r\n            } else if (fO.tunnelnaam) {\r\n                naam = fO.tunnelnaam.value;\r\n            } else if (fO.sluisnaam) {\r\n                naam = fO.sluisnaam.value;\r\n            } else {\r\n                naam = fO.knooppuntnaam.value;\r\n            }\r\n\r\n            naam = naam.replace(/\\|/g, \"\");\r\n        } else if (fO.naamFries) {\r\n            //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n            //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n            naam = fO.naamFries.value;\r\n        } else if (fO.naamNl) {\r\n            naam = fO.naamNl.value;\r\n        } else if (fO.naam) {\r\n            naam = fO.naam.value;\r\n        }\r\n\r\n        //krijg de type\r\n        if (fO.type !== undefined) {\r\n            let indexes = [];\r\n\r\n            //sorteer dit op basis van relevantie.\r\n            for (let j = 0; j < valueMap.length; j++) {\r\n                let value = PreProcessor.stripUrlToType(valueMap[j].type.value);\r\n                let index = PreProcessor.getIndexOfClasses(value);\r\n                indexes.push({index: index, type: value});\r\n            }\r\n\r\n            indexes.sort((a, b) => {\r\n                return a.index - b.index;\r\n            });\r\n\r\n            let value = indexes[0].type;\r\n            type = PreProcessor.seperateUpperCase(value);\r\n            objectClass = PreProcessor.seperateUpperCase(indexes[indexes.length - 1].type);\r\n\r\n            color = PreProcessor.getColor(indexes[indexes.length - 1].type);\r\n        }\r\n\r\n        //de wkt naar geojson\r\n        if (fO.wktJson !== undefined) {\r\n            let wktJson = fO.wktJson.value;\r\n            geoJson = wellKnown.parse(wktJson);\r\n        }\r\n\r\n        let resultaatObj = new Resultaat(key, naam, type, geoJson, color, objectClass);\r\n        returnObject.push(resultaatObj);\r\n    });\r\n\r\n    return returnObject;\r\n}\r\n\r\nasync function queryTriply(query) {\r\n    return await fetch(\"https://api.labs.kadaster.nl/datasets/kadaster/brt/services/brt/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n}\r\n\r\nfunction queryBetterForType(values) {\r\n    return `\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n    \r\n    SELECT * WHERE {\r\n        VALUES ?s {\r\n           ${values}\r\n        }\r\n        ?s a ?type\r\n        \r\n  Optional{?s brt:naam ?naam.}.\r\n  Optional{?s brt:naamNL ?naamNl.}.\r\n  Optional{?s brt:naamFries ?naamFries}.\r\n  Optional{?s brt:knooppuntnaam ?knooppuntnaam.}.\r\n  Optional{?s brt:sluisnaam ?sluisnaam.}.\r\n  Optional{?s brt:tunnelnaam ?tunnelnaam}.\r\n  Optional{?s brt:brugnaam ?brugnaam.}.\r\n  Optional{?s geo:hasGeometry/geo:asWKT ?wktJson}.\r\n  }\r\n`\r\n}\r\n\r\nfunction queryForCoordinatesNonStreets(top, left, bottom, righ) {\r\n    return `PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n\r\n            select distinct ?sub{\r\n            {\r\n                ?sub brt:naam ?label;\r\n                 geo:hasGeometry/geo:asWKT ?xShape.\r\n              } UNION {\r\n                ?sub brt:naamNL ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }UNION {\r\n                ?sub brt:naamFries ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }UNION {\r\n                ?sub brt:naamOfficieel ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }\r\n                BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\r\n                filter(bif:st_intersects(?xShape, ?yShape))\r\n                filter not exists{\r\n                    ?sub a brt:Wegdeel\r\n                }\r\n            }\r\n            limit 300\r\n            `\r\n}\r\n\r\nfunction queryForCoordinatesStreets(top, left, bottom, righ) {\r\n    return `PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n\r\n            select distinct ?sub{\r\n            {\r\n                ?sub brt:naam ?label;\r\n                 geo:hasGeometry/geo:asWKT ?xShape;\r\n                     a brt:Wegdeel.\r\n              } UNION {\r\n                ?sub brt:naamNL ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape;\r\n                     a brt:Wegdeel.\r\n              }UNION {\r\n                ?sub brt:naamFries ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape;\r\n                     a brt:Wegdeel.\r\n              }UNION {\r\n                ?sub brt:naamOfficieel ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape;\r\n                     a brt:Wegdeel.\r\n              }\r\n                BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\r\n                filter(bif:st_intersects(?xShape, ?yShape))\r\n                \r\n            }\r\n            limit 150\r\n            `\r\n}","import * as CommunicatorSPARQL from './Communicators/CommunicatorSPARQL';\r\nimport * as ClickedCommunicator from './Communicators/ClickedCommunicator';\r\nimport * as CommunicatorELASTICSEARCH from \"./Communicators/CommunicatorELASTICSEARCH\";\r\n\r\nconst labsURL = \"https://api.labs.kadaster.nl/datasets/kadaster/brt/services/brt/sparql\";\r\nconst pdokURL = \"https://data.pdok.nl/sparql\";\r\n\r\n/**\r\n * Laatste string waar op is gezocht\r\n * @type {string}\r\n */\r\nlet latestString = \"\";\r\n\r\n/**\r\n * Laatste methode waarop is gezocht\r\n * @type {string}\r\n */\r\nlet latestMethod = \"\";\r\n\r\n/**\r\n * Geeft de options voor backends terug\r\n * @returns {({description: string, text: string, value: string}|{description: string, text: string, value: string})[]}\r\n */\r\nexport function getOptions(){\r\n    return [\r\n        { value: 'tsp', text: 'Kadaster Labs SPARQL', description : \"snel\"},\r\n        { value: 'psp', text: 'PDOK SPARQL', description : \"meest actueel\"},\r\n        { value: 'tes', text: 'Kadaster Labs Elasticsearch', description : \"snelste\"},\r\n    ];\r\n}\r\n\r\n/**\r\n * Deze wordt aangeroepen wanneer de gebruiker iets in het zoekveld typt\r\n *\r\n * @param text: gezochte tekst\r\n * @param method:  de methode waarmee is gezocht\r\n * @returns {Promise<string|undefined>}\r\n */\r\nexport async function getMatch(text, method, setResFromOutside) {\r\n    latestString = text;\r\n    latestMethod = method;\r\n    let res;\r\n\r\n    if(method === \"tsp\"){\r\n        res = await CommunicatorSPARQL.getMatch(text, labsURL, setResFromOutside);\r\n    }else if(method === \"psp\"){\r\n        res = await CommunicatorSPARQL.getMatch(text, pdokURL, setResFromOutside);\r\n    }else {\r\n        res = await CommunicatorELASTICSEARCH.getMatch(text, setResFromOutside);\r\n    }\r\n\r\n    if((text === latestString && latestMethod === method) || res === \"error\"){\r\n        return res;\r\n    }else{\r\n        return undefined;\r\n    }\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @returns {Promise<void>} verwacht niets terug maar moet wel de clickedRes vullen met de loadInAttributes van de ClickedRes.js\r\n */\r\nexport async function getAllAttribtes(clickedRes) {\r\n    if(latestMethod === \"tsp\"){\r\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, labsURL);\r\n    }else if(latestMethod === \"psp\"){\r\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, pdokURL);\r\n    }else {\r\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, labsURL);\r\n    }\r\n}\r\n\r\n/**\r\n * Deze functie wordt aangeroepen wanneer de gebruiker\r\n *\r\n * @param lat\r\n * @param long\r\n * @param top\r\n * @param left\r\n * @param bottom\r\n * @param right\r\n * @returns {Promise<string|*[]|undefined>} Verwacht een lijst met Resultaat.js objecten terug\r\n */\r\nexport async function getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside){\r\n    latestString = undefined;\r\n    latestMethod = \"tsp\";\r\n\r\n    let res = await ClickedCommunicator.getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside);\r\n\r\n    if(latestString === undefined){\r\n        return res;\r\n    }else {\r\n        return undefined;\r\n    }\r\n}","import React from 'react';\r\nimport * as Communicator from '../../network/Communicator';\r\n\r\nclass ObjectScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res: undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getNamenGegevens(this.props.clickedResult);\r\n    }\r\n\r\n    /**\r\n     * Haal alle gegevens op van de clickedResult.\r\n     * @param url\r\n     */\r\n    getNamenGegevens = (url) => {\r\n        if (url) {\r\n            Communicator.getAllAttribtes(this.props.clickedResult).then(res => {\r\n                this.setState({\r\n                    res: this.props.clickedResult\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let res = this.state.res;\r\n        let naam;\r\n        let type;\r\n        let tableNamen;\r\n        let tableRest;\r\n\r\n        if (res) {\r\n            if(res.getNaam()){\r\n                naam = (<h1>{res.getNaam()}</h1>);\r\n            }else{\r\n                if(res.getTunnelNaam()){\r\n                    naam = (<h1>{res.getTunnelNaam()}</h1>);\r\n                }else if(res.getKnooppuntNaam()){\r\n                    naam = (<h1>{res.getKnooppuntNaam()}</h1>);\r\n                }else if(res.getBrugNaam()){\r\n                    naam = (<h1>{res.getBrugNaam()}</h1>);\r\n                }else if(res.getSluisNaam()){\r\n                    naam = (<h1>{res.getSluisNaam()}</h1>);\r\n                }\r\n            }\r\n\r\n            let color;\r\n\r\n            if(res.getColor()){\r\n                color = {color: this.props.getHexFromColor(res.getColor(), true)};\r\n            }\r\n\r\n            type = (<h3 style={color}>{res.getTypeString()}</h3>);\r\n\r\n            let naamNl;\r\n            let naamFries;\r\n            let naamOfficeel;\r\n            let naam2;\r\n            let brugnaam;\r\n            let sluisnaam;\r\n            let knooppuntnaam;\r\n            let tunnelnaam;\r\n\r\n            if (res.getNaamFries()) {\r\n                naamFries = (\r\n                    <tr>\r\n                        <td><b>Naam Fries:</b></td>\r\n                        <td>{res.getNaamFries()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if(res.getNaamOfficieel()){\r\n                naamOfficeel = (\r\n                    <tr>\r\n                        <td><b>Naam officieel:</b></td>\r\n                        <td>{res.getNaamOfficieel()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getNaamNl()) {\r\n                naamNl = (\r\n                    <tr>\r\n                         <td><b>Naam Nederlands:</b></td>\r\n                         <td>{res.getNaamNl()}</td>\r\n                     </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getTunnelNaam()) {\r\n                tunnelnaam = (\r\n                    <tr>\r\n                        <td><b>Tunnel naam:</b></td>\r\n                        <td>{res.getTunnelNaam()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getBrugNaam()) {\r\n                brugnaam = (\r\n                    <tr>\r\n                        <td><b>Brug naam:</b></td>\r\n                        <td>{res.getBrugNaam()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getSluisNaam()) {\r\n                sluisnaam = (\r\n                    <tr>\r\n                        <td><b>Sluis naam:</b></td>\r\n                        <td>{res.getSluisNaam()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getKnooppuntNaam()) {\r\n                knooppuntnaam = (\r\n                    <tr>\r\n                        <td><b>Knooppunt naam:</b></td>\r\n                        <td>{res.getKnooppuntNaam()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            tableNamen = (\r\n                <div>\r\n                    <table className=\"namenTable\">\r\n                        <tbody>\r\n                            {naamOfficeel}\r\n                            {naamNl}\r\n                            {naamFries}\r\n                            {naam2}\r\n                            {tunnelnaam}\r\n                            {brugnaam}\r\n                            {sluisnaam}\r\n                            {knooppuntnaam}\r\n                        </tbody>\r\n                    </table>\r\n                    <hr/>\r\n                </div>\r\n            );\r\n\r\n            let attributes = res.getAttributes().map(res => {\r\n                let value = res.value;\r\n\r\n                if(value.startsWith(\"http://\")){\r\n                    value = (<a href={value} target=\"_blank\" rel = \"noreferrer noopener\">{value}</a>);\r\n                }\r\n\r\n                return (<tr key = {res.key + res.value}>\r\n                    <td>{res.key}</td>\r\n                    <td>{value}</td>\r\n                </tr>)\r\n            })\r\n\r\n            tableRest = (\r\n\r\n                <table className=\"attributeSectionObjectScreen\">\r\n                    <tbody>\r\n                    {attributes}\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"objectScreen\">\r\n                {naam}\r\n                {type}\r\n                {tableNamen}\r\n                {tableRest}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObjectScreen;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport StartScreen from \"./pages/StartScreen\";\r\nimport ResultScreen from \"./pages/ResultScreen\";\r\nimport ObjectScreen from \"./pages/ObjectScreen\";\r\n\r\nclass Routes extends React.Component {\r\n    render() {\r\n        let router2;\r\n\r\n        if(this.props.res.getClickedCluster()){\r\n            router2 = (<Route\r\n                exact path=\"/result/:id\"\r\n                render={(props) => <ResultScreen res={this.props.res}\r\n                                                 onClickItem={this.props.onClickItem}\r\n                                                 getHexFromColor={this.props.getHexFromColor}/>}\r\n            />)\r\n        }else{\r\n            router2 = (<Route\r\n                exact path=\"/result/:id\"\r\n                render={(props) => <ObjectScreen clickedResult=\r\n                                                     {this.props.clickedResult}\r\n                                                 getHexFromColor={this.props.getHexFromColor}/>}\r\n            />)\r\n        }\r\n\r\n\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\" component={StartScreen}/>\r\n                <Route\r\n                    exact path=\"/result\"\r\n                    render={(props) => <ResultScreen res={this.props.res}\r\n                                                     onClickItem={this.props.onClickItem}\r\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\r\n                />\r\n                {router2}\r\n                <Route\r\n                    exact path=\"/result/:id/:idd\"\r\n                    render={(props) => <ObjectScreen clickedResult=\r\n                                                         {this.props.clickedResult}\r\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Routes;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\n/**\r\n * De bar met <-- terug.\r\n */\r\nclass NavBar extends React.Component{\r\n    render() {\r\n        return(\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       render={(props) => <EmptyBar loading = {this.props.loading}\r\n                                                    aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\r\n                />\r\n                <Route\r\n                    render={(props) => <BackButton loading = {this.props.loading} onBack = {this.props.onBack}\r\n                                                   aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nfunction EmptyBar(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton  \" + class_}><p>&nbsp;</p></div>\r\n    )\r\n}\r\n\r\nfunction BackButton(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton cursorPointer \" + class_} onClick={props.onBack}><span>&larr; Terug</span>\r\n            <span style={{float: \"right\"}}>{props.aantalZoekResultaten}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport {BarLoader} from \"react-spinners\";\r\n\r\n/**\r\n * Het kleine laadbalke aan de boven kant van het resultaten stukje, en boven de kaart\r\n */\r\nclass Loader extends React.Component{\r\n    render() {\r\n        return(\r\n            <BarLoader\r\n                loading = {this.props.loading}\r\n                width = {\"100%\"}\r\n                color = {\"#6495ED\"}\r\n                height = {4}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","/**\r\n * Houdt resultaat bij. Update de app als er iets verandert.\r\n */\r\nimport Observable from \"./Observable\";\r\nimport {isShownClickedResults, sortByObjectClass} from \"../network/ProcessorMethods\";\r\nimport ClusterObject from \"./ClusterObject\";\r\n\r\nclass ResultatenHouder extends Observable {\r\n    constructor() {\r\n        super();\r\n\r\n        this._results = [];\r\n        this._rightClickedResults = [];\r\n        this._clickedResult = undefined;\r\n        this._clickedCluster = undefined;\r\n    }\r\n\r\n    setClickedCluster(clickedCluster){\r\n        if(this._clickedCluster){\r\n            this._clickedCluster.unsubscribe(this);\r\n        }\r\n\r\n        this._clickedCluster = clickedCluster;\r\n        this._clickedCluster.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getClickedCluster(){\r\n        return this._clickedCluster;\r\n    }\r\n\r\n    clearClickedCluster(){\r\n        if(this._clickedCluster){\r\n            this._clickedCluster.unsubscribe(this);\r\n        }\r\n\r\n        this._clickedCluster = undefined;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    /**\r\n     * Zet een clickedresultaat en subscribe aan deze\r\n     * @param clicked\r\n     */\r\n    setClickedResult(clicked) {\r\n        this._clickedResult = clicked;\r\n        this._clickedResult.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getClickedResult() {\r\n        return this._clickedResult;\r\n    }\r\n\r\n    /**\r\n     * undefine de clicked resultaat en unsubscribe\r\n     */\r\n    clearClickedResult() {\r\n        if (this._clickedResult) {\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear alle resultaten en unsubscribe van all deze\r\n     */\r\n    clearAll() {\r\n        if (this._clickedResult) {\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n        }\r\n\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._results = [];\r\n\r\n        this._rightClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._rightClickedResults = [];\r\n\r\n\r\n        if(this._clickedCluster){\r\n            this._clickedCluster.unsubscribe(this);\r\n        }\r\n\r\n        this._clickedCluster = undefined;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setResults(results) {\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._results = results;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getResults() {\r\n        return this._results;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearResults() {\r\n        if (this._results.length > 0) {\r\n            this._results.forEach(res => {\r\n                res.unsubscribe(this);\r\n            });\r\n\r\n            this._results = [];\r\n\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setDoubleResults(results) {\r\n        this._rightClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._rightClickedResults = results;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getRightClickedRes() {\r\n        return this._rightClickedResults;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearDoubleResults() {\r\n        if (this._rightClickedResults.length > 0) {\r\n            this._rightClickedResults.forEach(res => {\r\n                res.unsubscribe(this);\r\n            });\r\n\r\n            this._rightClickedResults = [];\r\n\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    /**\r\n     * Krijg alle resultaten behalve clicked resultaat als feature terug.\r\n     * @returns {[Feature]}\r\n     */\r\n    getSearchedAllObjectsAsFeature() {\r\n        let geojson = [];\r\n\r\n        this._results.forEach(res => {\r\n            if (res instanceof ClusterObject) {\r\n                geojson = geojson.concat(res.getAsFeature());\r\n            } else if (res.getGeoJson()) {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        });\r\n\r\n        sortByObjectClass(geojson);\r\n\r\n        return geojson;\r\n    }\r\n\r\n    getClickedAllObjectsAsFeature() {\r\n        let geojson = [];\r\n\r\n        this._rightClickedResults.forEach(res => {\r\n            if (res instanceof ClusterObject) {\r\n                geojson = geojson.concat(res.getAsFeature());\r\n            }else if (res.getGeoJson() && isShownClickedResults(res)) {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        });\r\n\r\n        sortByObjectClass(geojson);\r\n\r\n        return geojson;\r\n    }\r\n}\r\n\r\nexport default ResultatenHouder;","/**\r\n * Het resultaat dat aangeklikt is.\r\n * Kan op twee manieren gegevens in laden. Met de constructor of de methode loadInAttributes.\r\n */\r\nimport Observable from \"./Observable\";\r\n\r\nclass ClickedResultaat extends Observable {\r\n    /**\r\n     *\r\n     * @param res het resultaat dat is aangeklikt\r\n     * @param naam\r\n     * @param naamOfficieel\r\n     * @param naamNl\r\n     * @param naamFries\r\n     * @param types [] van types\r\n     * @param overige [{key: string, value: string}] van overige attributen\r\n     * @param burgNaam\r\n     * @param tunnelNaam\r\n     * @param sluisNaam\r\n     * @param knoopPuntNaam\r\n     */\r\n    constructor(res, naam, naamOfficieel, naamNl, naamFries, types, overige, burgNaam, tunnelNaam, sluisNaam, knoopPuntNaam) {\r\n        super();\r\n\r\n        this._res = res;\r\n        this._naam = naam;\r\n        this._naamOfficieel = naamOfficieel;\r\n        this._naamNL = naamNl;\r\n        this._naamFries = naamFries;\r\n        this._brugNaam = burgNaam;\r\n        this._tunnelNaam = tunnelNaam;\r\n        this._sluisNaam = sluisNaam;\r\n        this._knoopPuntNaam = knoopPuntNaam;\r\n\r\n        //types is een array, je kan meerdere dingen toevoegen.\r\n        if (types) {\r\n            this._types = types;\r\n        } else {\r\n            this._types = [];\r\n        }\r\n\r\n        if (overige) {\r\n            this._overige = overige;\r\n            let url = this._res.getUrl();\r\n            this._overige.unshift({key: \"BRT link\", value: url})\r\n        } else {\r\n            this._overige = [];\r\n        }\r\n\r\n        if (this._naam === undefined) {\r\n            if (this._naamOfficieel !== undefined) {\r\n                this._naam = naamOfficieel;\r\n            } else if (this._naamFries !== undefined) {\r\n                this._naam = this._naamFries;\r\n            } else {\r\n                this._naam = this._naamNL;\r\n            }\r\n        }\r\n    }\r\n\r\n    getNaamFries() {\r\n        return this._naamFries;\r\n    }\r\n\r\n    getNaamNl() {\r\n        return this._naamNL;\r\n    }\r\n\r\n    getColor(){\r\n        return this._res.getColor();\r\n    }\r\n\r\n    /**\r\n     * @param naam\r\n     * @param naamOfficieel\r\n     * @param naamnl\r\n     * @param naamfries\r\n     * @param type [] van types\r\n     * @param overige [{key: string, value: string}] van overige attributen\r\n     * @param burgNaam\r\n     * @param tunnelNaam\r\n     * @param sluisNaam\r\n     * @param knoopPuntNaam\r\n     */\r\n    loadInAttributes(naam, naamOfficieel, naamnl, naamfries, type, overige, burgNaam, tunnelNaam, sluisNaam, knoopPuntNaam) {\r\n        this._naam = naam;\r\n        this._naamOfficieel = naamOfficieel;\r\n        this._naamNL = naamnl;\r\n        this._naamFries = naamfries;\r\n        this._types = type;\r\n        this._overige = overige;\r\n        this._brugNaam = burgNaam;\r\n        this._tunnelNaam = tunnelNaam;\r\n        this._sluisNaam = sluisNaam;\r\n        this._knoopPuntNaam = knoopPuntNaam;\r\n\r\n        let url = this._res.getUrl();\r\n        this._overige.unshift({key: \"brt link\", value: url});\r\n\r\n        if (this._naam === undefined) {\r\n            if (this._naamOfficieel !== undefined) {\r\n                this._naam = this._naamOfficieel;\r\n            } else if (this._naamFries !== undefined) {\r\n                this._naam = this._naamFries;\r\n            } else {\r\n                this._naam = this._naamNL;\r\n            }\r\n        }\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getNaamOfficieel() {\r\n        return this._naamOfficieel;\r\n    }\r\n\r\n    getUrl() {\r\n        return this._res.getUrl();\r\n    }\r\n\r\n    getNaam() {\r\n        return this._naam;\r\n    }\r\n\r\n    getAsFeature() {\r\n        return this._res.getAsFeature();\r\n    }\r\n\r\n    getTypeString() {\r\n        return this._types.join(\", \");\r\n    }\r\n\r\n    getAttributes() {\r\n        return this._overige;\r\n    }\r\n\r\n    getTunnelNaam(){\r\n        return this._tunnelNaam;\r\n    }\r\n\r\n    getSluisNaam(){\r\n        return this._sluisNaam;\r\n    }\r\n\r\n    getBrugNaam(){\r\n        return this._brugNaam;\r\n    }\r\n\r\n    getKnooppuntNaam(){\r\n        return this._knoopPuntNaam;\r\n    }\r\n\r\n    getRes(){\r\n        return this._res;\r\n    }\r\n}\r\n\r\nexport default ClickedResultaat;","import L from \"leaflet\";\r\nimport MarkerGold from \"../assets/GoldMarker.png\";\r\nimport MarkerShadow from \"../assets/marker-shadow.png\";\r\n\r\n/**\r\n * Dit is de goude leaflet icoon\r\n */\r\nexport const Icons = new L.Icon.Default({\r\n    iconUrl: MarkerGold,\r\n    iconRetinaUrl : MarkerGold,\r\n    imagePath: \" \",\r\n    shadowUrl : MarkerShadow});\r\n\r\n/**\r\n * Dit id de default leaflet icoon\r\n */\r\nexport const DefaultIcon = new L.Icon.Default();\r\n","import React from 'react';\r\nimport './style/ContextMenu.scss'\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Dit is het menu dat tervoorschijn komt als je op de kaart klikt met meerdere lagen.\r\n */\r\nclass ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mousedOver: false,\r\n            widthPage: 0,\r\n            heightPage: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Kijk wat de hoogte en breedte is van de pagina wanneer deze component tevoorschijn komt.\r\n        this.updateWindowDimensions();\r\n\r\n        //debounce zodat het niet tig keer wordt aangeroepen.\r\n        this.updateWindowDimensionsDebounce = _.debounce(this.updateWindowDimensions, 200);\r\n        window.addEventListener('resize', this.updateWindowDimensionsDebounce);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //Unmount de listener als de component sluit\r\n        window.removeEventListener('resize', this.updateWindowDimensionsDebounce);\r\n    }\r\n\r\n    updateWindowDimensions = () => {\r\n        //update de hoogte en breedte van huidige pagina\r\n        this.setState({widthPage: window.innerWidth, heightPage: window.innerHeight});\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        //Kijk wat de hoogte en breedte zullen zijn van de component zelf.\r\n        if(this.state.yMenu !== this.div.clientHeight || this.state.xMenu !== this.div.clientWidth){\r\n            this.setState({\r\n                yMenu :  this.div.clientHeight,\r\n                xMenu : this.div.clientWidth\r\n            });\r\n        }\r\n    }\r\n\r\n    onClick = (resOnClick) => {\r\n        resOnClick();\r\n        this.props.resetCoordinates();\r\n    };\r\n\r\n    render() {\r\n        let myStyle;\r\n\r\n        //als er is geklikt\r\n        if (this.props.coordinates) {\r\n            //kijk wat de geklikte coordinaten zijn op het scherm\r\n            let top = this.props.coordinates.y;\r\n            let left = this.props.coordinates.x;\r\n\r\n            //kijk of de component zal passen op het scherm\r\n            if ((this.state.widthPage - left) < this.state.xMenu) {\r\n                //anders verplaats het naar link totdat het wel pasts\r\n                left = this.state.widthPage - this.state.xMenu;\r\n            }\r\n\r\n            //zelfde met hoogte\r\n            if ((this.state.heightPage - top) < this.state.yMenu) {\r\n                top = this.state.heightPage - this.state.yMenu;\r\n            }\r\n\r\n            // - 10 zodat de gebruiker altijd over de component heen hovert als deze geopend wordt\r\n            myStyle = {\r\n                position: 'absolute',\r\n                top: `${top - 10}px`,\r\n                left: `${left - 10}px`,\r\n                display: \"block\",\r\n            };\r\n        } else {\r\n            //als iemand niet heeft geklikt laat deze component weg\r\n            myStyle = {\r\n                display: \"none\",\r\n            };\r\n        }\r\n\r\n        //voor elk element crer een optie\r\n        let elements = this.props.objectsOverLayedOnMap.map(res => {\r\n            return (<p key={res.head + res.sub + res.subColor} onClick={() => {\r\n                this.onClick(res.onClick);\r\n            }}>\r\n                <b>{res.head} </b>\r\n                <span\r\n                    style={{color: this.props.getHexFromColor(res.subColor, true)}}>{res.sub}</span>\r\n            </p>);\r\n        });\r\n\r\n        //geef de component terug.\r\n        //als de gebruiker van de component af gaat, laat deze dan verdwijnen. zie onMouseLeave.\r\n        return (<div style={myStyle}\r\n                     className=\"contextMenuContainer\"\r\n                     ref={(div) => {this.div = div}}\r\n                     onMouseEnter={() => {\r\n                         this.setState({mousedOver: true})\r\n                     }}\r\n                     onMouseLeave={() => {\r\n                         this.props.resetCoordinates();\r\n                     }}\r\n                     onContextMenu={(e) => {\r\n                         e.preventDefault();\r\n                     }}>\r\n            {elements}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default ContextMenu;","/**\r\n * Libs\r\n */\r\nimport L from \"leaflet\";\r\nimport React from 'react';\r\nimport * as turf from '@turf/turf';\r\nimport * as inside from \"point-in-geopolygon\";\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * UI\r\n */\r\nimport Routes from './routes/Routes'\r\nimport {Dropdown, Icon, Search} from 'semantic-ui-react'\r\nimport NavBar from \"./components/NavBar\";\r\nimport Loader from \"./components/Loader\";\r\n\r\n/**\r\n * Assets\r\n */\r\nimport './App.css';\r\nimport KadasterImg from './assets/Logo-kadaster.png';\r\n\r\n/**\r\n * Netwerk\r\n */\r\nimport *  as Communicator from './network/Communicator';\r\nimport {Link, matchPath, withRouter} from \"react-router-dom\";\r\n\r\n/**\r\n * Model\r\n */\r\nimport ResultatenHouder from './model/ResultatenHouder';\r\nimport ClickedResultaat from \"./model/ClickedResultaat\";\r\nimport {DefaultIcon, Icons} from \"./components/Icons\";\r\nimport ContextMenu from \"./components/ContextMenu\";\r\nimport ClusterObject from \"./model/ClusterObject\";\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchQuery: \"\",\r\n            isFetching: false,\r\n            results: new ResultatenHouder(),\r\n            updateIng: false,\r\n            currentSelected: Communicator.getOptions()[0].value,\r\n            clickedOnLayeredMap: undefined,\r\n            objectsOverLayedOnMap: []\r\n        };\r\n\r\n        //subscribe aan de resulatatenHouder\r\n        this.state.results.subscribe(this);\r\n    }\r\n\r\n    /**\r\n     * Bij comonent did mount de kaart initaliseren en terug naar het hoofdscherm gaan\r\n     **/\r\n    componentDidMount() {\r\n        this.mapInit();\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    /**\r\n     * Initeert de kaart.\r\n     **/\r\n    mapInit = () => {\r\n        //opties van de kaart\r\n        this.map = L.map(\r\n            'map',\r\n            {\r\n                minZoom: 8,\r\n                center: [52.20936, 5.2],\r\n                zoom: 8,\r\n                maxBounds: [\r\n                    [56, 10],\r\n                    [49, 0],\r\n                ]\r\n            });\r\n\r\n        //zet de kaart tile layer aka de brt\r\n        L.tileLayer('https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png', {\r\n            attribution: 'Kaartgegevens &copy; <a href=\"https://www.kadaster.nl/\" target=\"_blank\" rel = \"noreferrer noopener\">Kadaster</a> | <a href=\"https://www.verbeterdekaart.nl\" target=\"_blank\" rel = \"noreferrer noopener\">Verbeter de kaart</a> '\r\n        }).addTo(this.map);\r\n\r\n        //Wanneer je dubbelklikt op de kaart krijg dan alle locaties terug er om heen.\r\n        this.map.on('contextmenu', this.handleRightMouseClick);\r\n\r\n        //disable the zoom\r\n        this.map.doubleClickZoom.disable();\r\n\r\n        //zet de geojson layer en de functies die worden aangeroepen.\r\n        //On each feature elke geojson object\r\n        //point to layer bij elke marker\r\n        this.geoJsonLayer = L.geoJSON([], {\r\n            onEachFeature: this.handleGeoJsonLayerDrawing,\r\n            pointToLayer: this.addMarker,\r\n            style: this.getStyle\r\n        }).addTo(this.map);\r\n\r\n        //de groep voor de markers\r\n        this.markerGroup = L.featureGroup().addTo(this.map);\r\n\r\n        //dit is voor mobiele applicatie. Als er gesleept wordt sluit dan het context menu.\r\n        this.map.on('dragstart', () => {\r\n            if (this.state.clickedOnLayeredMap) {\r\n                this.setState({clickedOnLayeredMap: undefined});\r\n            }\r\n        });\r\n\r\n        console.log(\"version 0.9.2\");\r\n    };\r\n\r\n    /**\r\n     * Krijg de style voor een bepaalde feature\r\n     * @param feature\r\n     * @returns {{color: (string|*)}}\r\n     */\r\n    getStyle = (feature) => {\r\n        if (feature.properties.getColor()) {\r\n            return {\r\n                color: this.getHexFromColor(feature.properties.getColor())\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Krijg een hex van een kleur.\r\n     * @param color\r\n     * @param text bool of het tekst is of niet\r\n     * @returns {string|undefined}\r\n     */\r\n    getHexFromColor(color, text) {\r\n        if (color === \"turqoise\") {\r\n            if (text) {\r\n                return \"#15a49f\";\r\n            } else {\r\n                return \"#3DCCC7\";\r\n            }\r\n        } else if (color === \"purple\") {\r\n            return \"#7A306C\";\r\n        } else if (color === \"green\") {\r\n            return \"#489E17\";\r\n        } else if (color === \"red\") {\r\n            return \"#BA1200\";\r\n        } else if (color === \"pink\") {\r\n            return \"#FFD9CE\";\r\n        } else if (color === \"blue\") {\r\n            return \"#1B2CFF\";\r\n        } else if (color === \"orange\") {\r\n            return \"#FAA916\";\r\n        } else if (color === \"yellow\") {\r\n            if (text) {\r\n                return \"#FAA916\";\r\n            } else {\r\n                return \"#F0F66E\";\r\n            }\r\n        } else if (color === \"mediumaquamarine\") {\r\n            return \"#66CDAA\";\r\n        } else {\r\n            if (text) {\r\n                return \"#000\";\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Als je recht klikt op de kaart. Haal resulataten op en laat deze zien.\r\n     **/\r\n    handleRightMouseClick = (e) => {\r\n        let latLong = e.latlng;\r\n\r\n        //close pop ups van de kaart\r\n        this.map.closePopup();\r\n        this.popup = undefined;\r\n\r\n        /**\r\n         * Kijk of de gebruiker op de ObjectScreen zit\r\n         */\r\n        let match = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        this.state.results.clearAll();\r\n\r\n        /**\r\n         * Als de gebruiker op een object screen zit ga dan terug.\r\n         */\r\n        if (match) {\r\n            this.props.history.goBack();\r\n        } else if (this.props.location.pathname !== \"/result\") {\r\n            this.props.history.push(`/result`);\r\n        }\r\n\r\n        this.setState({\r\n            isFetching: true,\r\n            searchQuery: \"\"\r\n        });\r\n\r\n        /**\r\n         * Krijg de bounds en geef deze ook door aan de communicator\r\n         */\r\n        let bounds = this.map.getBounds();\r\n        Communicator.getFromCoordinates(latLong.lat, latLong.lng, bounds.getNorth(), bounds.getWest(), bounds.getSouth(), bounds.getEast(), this.setResFromOutside).then(res => {\r\n            if(res === \"waiting\"){\r\n                this.setState({\r\n                    updateIng : true,\r\n                    isFetching: false\r\n                })\r\n            }else if (res !== undefined && res !== \"error\") {\r\n                this.state.results.setDoubleResults(res);\r\n                this.setState({\r\n                    isFetching: false\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * De functie die de kaart aanroept elke keer als deze een marker wilt toevoegen.\r\n     **/\r\n    addMarker = (feature, latlng) => {\r\n        let marker = L.marker(latlng,).addTo(this.markerGroup);\r\n\r\n        //dit is de pop up en de html die tevoorschijn komt.\r\n        marker.bindPopup(`<div class = \"marker\">\r\n                    <b>${feature.properties.getNaam()}</b>\r\n                    <br/>\r\n                    <span class = \"subTextMarker\" style=\"color:${this.getHexFromColor(feature.properties.getColor(), true)};\">${feature.properties.getType()}</span><div>\r\n            `, {\r\n            autoPan: false,\r\n            closeButton: false\r\n        });\r\n\r\n        let onHover = function (e) {\r\n            this.openPopup();\r\n            this.setIcon(Icons);\r\n        }.bind(marker);\r\n\r\n        let onHoverOff = function (e) {\r\n            this.closePopup();\r\n            this.setIcon(DefaultIcon);\r\n        }.bind(marker);\r\n\r\n        //wanner je over de marker gaat laat de pop up zien\r\n        marker.on('mouseover', onHover);\r\n        //geef deze ook aan de feature zodat wanneer je over de resultaten lijst gaat het ook op de kaart te zien is.\r\n        feature.properties._setOnHover(onHover);\r\n\r\n        //wanneer je er van af gaat laat het weg\r\n        marker.on('mouseout', onHoverOff);\r\n        feature.properties._setOnHoverOff(onHoverOff);\r\n\r\n        //wanneer je er op klikt ga naar die marker\r\n        marker.on('click', () => {\r\n            this.onClickItem(feature.properties)\r\n        });\r\n\r\n        return marker;\r\n    };\r\n\r\n    /**\r\n     * Krijg alle geojson objecten die in de resultatenhouder zit waar dit punt in zit.\r\n     * @param lng\r\n     * @param lat\r\n     * @returns {*[]}\r\n     */\r\n    getAllGeoJsonObjectContainingPoint = (lng, lat) => {\r\n        let res;\r\n\r\n        if (this.state.results.getClickedResult()) {\r\n            res = [this.state.results.getClickedResult().getAsFeature()];\r\n        } else if (this.state.results.getClickedCluster()) {\r\n            res = this.state.results.getClickedCluster().getValuesAsFeatures();\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            res = this.state.results.getClickedAllObjectsAsFeature();\r\n        } else {\r\n            res = this.state.results.getSearchedAllObjectsAsFeature();\r\n        }\r\n\r\n        res = res.filter(res => {\r\n                return res.geometry.type === \"MultiPolygon\" || res.geometry.type === \"Polygon\"\r\n            }\r\n        );\r\n\r\n        return res.filter(res => {\r\n            let col = {type: \"FeatureCollection\", features: [res]};\r\n            return inside.feature(col, [lng, lat]) !== -1;\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen elke keer als er een geojson object wordt getekend.\r\n     **/\r\n    handleGeoJsonLayerDrawing = (feature, layer) => {\r\n        //de punt wordt al afgehandeld door addMarker\r\n        if (feature.geometry.type !== 'Point') {\r\n            //vindt eerst de center\r\n            let latLong = this.getCenterGeoJson(feature);\r\n\r\n            //op deze center voeg een marker toe\r\n            this.addMarker(feature, latLong);\r\n\r\n            //laat de pop up zien als je erover gaat\r\n            layer.on('mouseover', (e) => {\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                let content = contains.map(res => {\r\n                    return `<b>${res.properties.getNaam()}</b><br/>\r\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\r\n                }).reverse().join(`<br/>`);\r\n\r\n                content = `<div class=\"popUpMouseOver\">${content}<div>`;\r\n\r\n                if (contains.length < 1) {\r\n                    this.map.closePopup();\r\n                    this.popup = undefined;\r\n                } else if (!this.popup) {\r\n                    this.popup = L.popup({\r\n                        autoPan: false,\r\n                        closeButton: false\r\n                    })\r\n                        .setLatLng(e.latlng)\r\n                        .setContent(content)\r\n                        .openOn(this.map);\r\n                }\r\n            });\r\n\r\n            //dit is de functie die wordt aangeroepen als je over een object heen gaat met je muis.\r\n            let mouseOverFunction = (e) => {\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                let content = contains.map(res => {\r\n                    return `<b>${res.properties.getNaam()}</b><br/>\r\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\r\n                }).reverse().join(`<br/>`);\r\n\r\n                if (contains.length < 1) {\r\n                    this.map.closePopup();\r\n                    this.popup = undefined;\r\n                } else if (this.popup) {\r\n                    this.popup.setLatLng(e.latlng);\r\n\r\n                    content = `<div class=\"popUpMouseOver\">${content}<div>`;\r\n\r\n                    if (content !== this.popup.getContent()) {\r\n                        this.popup.setContent(content);\r\n                    }\r\n                } else {\r\n                    this.popup = L.popup({\r\n                        autoPan: false,\r\n                        closeButton: false\r\n                    })\r\n                        .setLatLng(e.latlng)\r\n                        .setContent(content)\r\n                        .openOn(this.map);\r\n                }\r\n            };\r\n\r\n            //Je kan ervoor kiezen om deze functionalitier te trottelen.\r\n            layer.on('mousemove', _.throttle(mouseOverFunction, 0));\r\n\r\n            //sluit de pop up als je er van af gaat\r\n            layer.on('mouseout', (e) => {\r\n                this.map.closePopup();\r\n                this.popup = undefined;\r\n            });\r\n\r\n            //als je er op klikt ga er dan naartoe\r\n            layer.on('click', (e) => {\r\n                //check of er meerdere lagen zijn\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                //als er maar n laag is\r\n                if (contains.length < 2) {\r\n                    this.onClickItem(feature.properties)\r\n                } else {\r\n                    //agrageer de opties en geef deze aan het context menu\r\n                    let options = contains.reverse().map(res => {\r\n                        let func = () => {\r\n                            this.onClickItem(res.properties);\r\n                        };\r\n\r\n                        return {\r\n                            head: res.properties.getNaam(),\r\n                            sub: res.properties.getType(),\r\n                            subColor: res.properties.getColor(),\r\n                            onClick: func\r\n                        }\r\n                    });\r\n\r\n                    this.setState({\r\n                        clickedOnLayeredMap: {x: e.originalEvent.pageX, y: e.originalEvent.pageY},\r\n                        objectsOverLayedOnMap: options\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deze methode kan worden aangeroepen om het context menu te laten verdrwijnen.\r\n     */\r\n    resetClickedOnLayeredMap = () => {\r\n        this.setState({\r\n            clickedOnLayeredMap: undefined\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wanneer iemand op een resultaat klikt vor dan deze methode uit.\r\n     **/\r\n    onClickItem = (res) => {\r\n        if (res instanceof ClusterObject) {\r\n            this.state.results.setClickedCluster(res);\r\n            this.props.history.push(`/result/${res.getNaam()}`);\r\n        } else {\r\n            //maak een nieuwe clickedresultaat\r\n            let clickedRes = new ClickedResultaat(res);\r\n\r\n            this.setState({\r\n                clickedOnLayeredMap: undefined\r\n            });\r\n\r\n            //zet de resultatenhouder de clickedresultaat.\r\n            this.state.results.setClickedResult(clickedRes);\r\n\r\n            //krijg de center van de plek waar je naartoe wilt.\r\n            let center = this.getCenterGeoJson(res.getGeoJson());\r\n            let zoom = this.map.getZoom();\r\n\r\n            //als de gebruiker ingezoomt is, zoom dan niet uit.\r\n            if (zoom < 10) {\r\n                zoom = 10;\r\n            }\r\n\r\n            //zet de view.\r\n            this.map.setView(center, zoom);\r\n\r\n\r\n            let match = matchPath(this.props.location.pathname, {\r\n                path: \"/result/:id\",\r\n                exact: true,\r\n                strict: true\r\n            });\r\n\r\n            if (match) {\r\n                this.props.history.push(`/result/${res.getNaam()}/${res.getNaam()}`);\r\n            } else {\r\n                this.props.history.push(`/result/${res.getNaam()}`);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Krijg de center van een geojson object.\r\n     **/\r\n    getCenterGeoJson = (geojson) => {\r\n        //kijk eerst naar de center\r\n        let centroid = turf.center(geojson);\r\n\r\n        let geoJsonFeature = geojson.geometry ? geojson : {type: 'Feature', geometry: geojson};\r\n        geojson = geojson.geometry ? geojson.geometry :  geojson;\r\n\r\n        if(geojson.type !== \"MultiPolygon\") {\r\n            //als deze niet in het geojson object ligt, gebruik dan de centroid\r\n            if (!turf.booleanContains(geoJsonFeature, centroid)) {\r\n                centroid = turf.centroid(geoJsonFeature);\r\n            }\r\n\r\n            if(!turf.booleanContains(geojson, centroid)){\r\n                centroid = turf.pointOnFeature(geojson);\r\n            }\r\n        }else{\r\n            let lon = centroid.geometry.coordinates[0];\r\n            let lat = centroid.geometry.coordinates[1];\r\n            let col = {type: \"FeatureCollection\", features: [geoJsonFeature]};\r\n            let isInside = inside.feature(col, [lon, lat]) !== -1;\r\n\r\n            if (!isInside) {\r\n                centroid = turf.centroid(geojson);\r\n            }\r\n\r\n            lon = centroid.geometry.coordinates[0];\r\n            lat = centroid.geometry.coordinates[1];\r\n            col = {type: \"FeatureCollection\", features: [geoJsonFeature]};\r\n            isInside = inside.feature(col, [lon, lat]) !== -1;\r\n\r\n            if(!isInside){\r\n                centroid = turf.pointOnFeature(geojson);\r\n            }\r\n        }\r\n\r\n        //krijg de lat en long\r\n        let lon = centroid.geometry.coordinates[0];\r\n        let lat = centroid.geometry.coordinates[1];\r\n\r\n        return [lat, lon];\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen wanneer er iets wordt getype\r\n     **/\r\n    onSearchChange = (e, data) => {\r\n        let text = data.value;\r\n\r\n        this.map.closePopup();\r\n        this.popup = undefined;\r\n\r\n        //als de text iets heef\r\n        if (text) {\r\n            //zet dan eerst de state\r\n\r\n            this.setState({\r\n                searchQuery: text,\r\n                isFetching: true\r\n            });\r\n\r\n            //haal vorige resultaten weg\r\n            this.state.results.clearClickedResult();\r\n            this.state.results.clearDoubleResults();\r\n            this.state.results.clearClickedCluster();\r\n\r\n            //debounce zodat het pas wordt uitgevoerd wanneer de gebuiker stopt met typen.\r\n            if (!this.debounceDoSearch) {\r\n                this.debounceDoSearch = _.debounce(this.doSearch, 500);\r\n            }\r\n\r\n            //roep de methode aan die de zoek functie aanroept\r\n            this.debounceDoSearch(text);\r\n\r\n            //Als je op het hoofscherm bent ga dan naar de result screen\r\n            if (this.props.location.pathname === \"/\") {\r\n                this.props.history.push('/result')\r\n\r\n                //als je niet op het resultaten scherm zit ga dan eentje terug\r\n            } else if (this.props.location.pathname !== \"/result\") {\r\n                this.props.history.goBack();\r\n            }\r\n        } else {\r\n            //als de zoekbar text leeg is\r\n            this.setState({\r\n                searchQuery: \"\",\r\n                isFetching: false\r\n            });\r\n\r\n            //verwijder alle resultaten\r\n            this.state.results.clearAll();\r\n\r\n            let match2 = matchPath(this.props.location.pathname, {\r\n                path: \"/result/:id/:idd\",\r\n                exact: true,\r\n                strict: true\r\n            });\r\n\r\n\r\n            //ga terug naar het hoofdscherm\r\n            if (this.props.location.pathname === \"/result\") {\r\n                this.props.history.goBack();\r\n            } else if (match2) {\r\n                this.props.history.go(-3);\r\n            } else if (this.props.location.pathname !== '/') {\r\n                this.props.history.go(-2);\r\n            }\r\n        }\r\n\r\n        //centreer de kaart weer.\r\n        if (this.map) {\r\n            this.map.setView([52.20936, 5.2], 8);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Roept de communicator aan en haalt de resultaten op.\r\n     **/\r\n    doSearch = (text) => {\r\n        /**\r\n         * Roep de getMatch functie aan van de communicator\r\n         **/\r\n        Communicator.getMatch(text.trim(), this.state.currentSelected, this.setResFromOutside).then(res => {\r\n            //als je een error terug krijgt, dan betekent dat je wel een antwoord hebt maar dat het niet werkt.\r\n\r\n            if(res === \"waiting\"){\r\n                this.setState({\r\n                    updateIng : true,\r\n                    isFetching: false\r\n                })\r\n            }else if (res === \"error\") {\r\n                this.setState({\r\n                    isFetching: false\r\n                })\r\n\r\n                //als je undefined terug krijgt betekent het dat het een oude search query is.\r\n                //Dus als het niet undefined is, betekent dat het het huidige search query is.\r\n            } else if (res !== undefined) {\r\n                this.setState({\r\n                    isFetching: false\r\n                });\r\n                this.state.results.setResults(res);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wanneer er op het kruisje in de search bar wordt geklikt.\r\n     **/\r\n    handleDeleteClick = () => {\r\n        this.onSearchChange({}, {value: \"\"});\r\n    };\r\n\r\n    /**\r\n     * Wanneer er op de terug knop wordt geklikt in de applicatie aka <-- terug.\r\n     **/\r\n    handleOnBackButtonClick = () => {\r\n        /**\r\n         * Kijk of je op een resultaat scherm bent\r\n         */\r\n        let match = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        let match2 = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id/:idd\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        if (this.props.location.pathname === \"/result\") {\r\n            //Als je op de result screen bent ga dan terug naar het hoofdscherm\r\n            if (this.state.results.getClickedCluster()) {\r\n                this.state.results.clearClickedCluster();\r\n            } else {\r\n                this.handleDeleteClick();\r\n            }\r\n        } else if (match) {\r\n            //ga eerst een pagina terug\r\n            this.props.history.goBack();\r\n\r\n            //Als je op een geklikte resultaat scherm bent ga dan terug naar de result scherm\r\n            this.state.results.clearClickedResult();\r\n            this.state.results.clearClickedCluster();\r\n        } else if (match2) {\r\n            //ga eerst een pagina terug\r\n            this.props.history.goBack();\r\n\r\n            //Als je op een geklikte resultaat scherm bent ga dan terug naar de result scherm\r\n            this.state.results.clearClickedResult();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deze methode wordt aangeropen elke keer als de resultaten houder wordt geupdate.\r\n     */\r\n    update = () => {\r\n        let results = this.state.results;\r\n\r\n        this.setState({\r\n            results: results\r\n        });\r\n\r\n        /**\r\n         * Soms wordt de update functie iets te vaak angereoepen dus debounce het\r\n         */\r\n        if (!this.updateMapDebounce) {\r\n            this.updateMapDebounce = _.debounce(this.updateMap, 200);\r\n        }\r\n\r\n        this.updateMapDebounce(results);\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen als er op het tandwieltje wordt geklikt.\r\n     * @param e\r\n     * @param v\r\n     */\r\n    dropDownSelector = (e, v) => {\r\n        if (this.state.currentSelected !== v.value) {\r\n            this.setState({\r\n                currentSelected: v.value,\r\n                isFetching: false\r\n            }, () => {\r\n                this.handleDeleteClick();\r\n            })\r\n        }\r\n    };\r\n\r\n    setResFromOutside = (res, isRightClick) => {\r\n        this.state.updateIng = false;\r\n\r\n        if(isRightClick === undefined){\r\n            this.state.results.setDoubleResults(res);\r\n        }else{\r\n            this.state.results.setResults(res)\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Update de kaart.\r\n     **/\r\n    updateMap = () => {\r\n        let results = this.state.results;\r\n\r\n        //haal eerst alle marker weg\r\n        this.map.closePopup();\r\n        this.popup = undefined;\r\n        this.markerGroup.clearLayers();\r\n        this.geoJsonLayer.clearLayers();\r\n\r\n        //als er een geklikt resultaat is, render dan alleen deze\r\n        if (this.state.results.getClickedResult()) {\r\n            let feature = this.state.results.getClickedResult().getAsFeature();\r\n            this.geoJsonLayer.addData(feature);\r\n        } else if (this.state.results.getClickedCluster()) {\r\n            let feature = this.state.results.getClickedCluster().getValuesAsFeatures();\r\n            this.geoJsonLayer.addData(feature);\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            let geoJsonResults = results.getClickedAllObjectsAsFeature();\r\n            this.geoJsonLayer.addData(geoJsonResults);\r\n        } else {\r\n            //anders render alle opgehaalde resultaten.\r\n            if (this.state.searchQuery) {\r\n                let geoJsonResults = results.getSearchedAllObjectsAsFeature();\r\n                this.geoJsonLayer.addData(geoJsonResults);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen wanneer iemand op de zoekbalk klikt.\r\n     */\r\n    onFocus = () => {\r\n        let match2 = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id/:idd\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        let match = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        if (this.state.results.getRightClickedRes().length > 0) {\r\n            this.handleDeleteClick();\r\n        } else if (match2) {\r\n            this.state.results.clearClickedResult();\r\n            this.state.results.clearClickedCluster();\r\n            this.props.history.go(-2);\r\n        } else if (match && this.state.results.getClickedCluster()) {\r\n            this.handleOnBackButtonClick();\r\n        } else if (this.state.results.getClickedResult()) {\r\n            this.handleOnBackButtonClick();\r\n        }\r\n    };\r\n\r\n    getZoekResultatenAantal = () => {\r\n        let aantalZoekResultaten;\r\n\r\n        if (this.state.results.getClickedResult()) {\r\n\r\n        } else if (this.state.results.getClickedCluster()) {\r\n            aantalZoekResultaten = this.state.results.getClickedCluster().getValues().length;\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            aantalZoekResultaten = this.state.results.getRightClickedRes().length;\r\n        } else {\r\n            aantalZoekResultaten = this.state.results.getResults().length;\r\n        }\r\n\r\n        if (aantalZoekResultaten > 989) {\r\n            aantalZoekResultaten = 900 + \"+\";\r\n        }\r\n\r\n        return aantalZoekResultaten;\r\n    };\r\n\r\n    render() {\r\n        let aantalZoekResultaten = this.getZoekResultatenAantal();\r\n\r\n        let gearIcon;\r\n\r\n        const options = Communicator.getOptions();\r\n        if (options.length > 1) {\r\n            gearIcon = (<Dropdown\r\n                className=\"cogIcon\"\r\n                icon='cog'\r\n                upward={true}\r\n            >\r\n                <Dropdown.Menu>\r\n                    <Dropdown.Header\r\n                        content=\"Selecteer end-point\"\r\n                    />\r\n                    <Dropdown.Divider\r\n                    />\r\n                    {options.map((option) => (\r\n                        <Dropdown.Item\r\n                            className=\"dropDownItem\"\r\n                            key={option.value} {...option}\r\n                            active={this.state.currentSelected === option.value}\r\n                            onClick={this.dropDownSelector}\r\n                        />\r\n                    ))}\r\n                </Dropdown.Menu>\r\n            </Dropdown>);\r\n        }\r\n\r\n        let icon;\r\n        let className;\r\n\r\n        if (this.state.searchQuery || this.state.results.getRightClickedRes().length > 0) {\r\n            icon = <Icon name='delete' link onClick={this.handleDeleteClick}/>;\r\n        } else {\r\n            icon = <Icon name='search'/>;\r\n        }\r\n\r\n        if (!this.state.updateIng) {\r\n            className = \"mapHolder\";\r\n        } else {\r\n            className = \"mapHolderLoading\"\r\n        }\r\n\r\n        return (\r\n            <section className=\"App\">\r\n                <div className=\"brtInfo\">\r\n                    <Link to=\"/\" onClick={() => {\r\n                        this.handleDeleteClick();\r\n                    }}>\r\n                        <div className=\"header\">\r\n                            <h1>BRT Namenzoeker</h1><img src={KadasterImg} alt=\"kadaster logo\"/>\r\n                        </div>\r\n                    </Link>\r\n                    <div className=\"searchBar\">\r\n                        <Search input={{fluid: true}}\r\n                                value={this.state.results.getRightClickedRes().length > 1 ? \"[ Kaartresultaten worden getoond ]\" : this.state.searchQuery}\r\n                                noResultsMessage=\"Geen resultaat\"\r\n                                icon={icon}\r\n                                onSearchChange={this.onSearchChange}\r\n                                open={false}\r\n                                onFocus={this.onFocus}\r\n                        />\r\n                    </div>\r\n                    <div className=\"resultsContainer\">\r\n                        <NavBar\r\n                            loading={this.state.isFetching}\r\n                            onBack={this.handleOnBackButtonClick}\r\n                            aantalZoekResultaten={aantalZoekResultaten}\r\n                        />\r\n                        <div className=\"loaderDiv\">\r\n                            <Loader\r\n                                loading={this.state.isFetching}\r\n                            />\r\n                        </div>\r\n                        <div className=\"resultPartContainer\">\r\n                            <Routes\r\n                                res={this.state.results}\r\n                                clickedResult={this.state.results.getClickedResult()}\r\n                                onClickItem={this.onClickItem}\r\n                                getHexFromColor={this.getHexFromColor}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        {gearIcon}\r\n                        <a href=\"https://zakelijk.kadaster.nl/brt\" target=\"_blank\" rel=\"noreferrer noopener\">Lees meer\r\n                            over de Basisregistratie Topografie (BRT)</a>\r\n                    </div>\r\n                </div>\r\n                <div className={className} onContextMenu={(e) => e.preventDefault()}>\r\n                    <Loader\r\n                        loading={this.state.updateIng}\r\n                    />\r\n                    <div id=\"map\"/>\r\n                </div>\r\n                <ContextMenu\r\n                    coordinates={this.state.clickedOnLayeredMap}\r\n                    resetCoordinates={this.resetClickedOnLayeredMap}\r\n                    objectsOverLayedOnMap={this.state.objectsOverLayedOnMap}\r\n                    getHexFromColor={this.getHexFromColor}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <App/>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}